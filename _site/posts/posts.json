[
  {
    "path": "posts/2021-06-08-dataviz-makeover2/",
    "title": "DataViz Makeover 2",
    "description": "DataViz Makeover 2 for ISSS608: Visual Analytics",
    "author": [
      {
        "name": "Stella Loh",
        "url": "https://www.linkedin.com/in/stella-loh-308b72129/"
      }
    ],
    "date": "2021-06-15",
    "categories": [
      "dataviz_makeover",
      "animation",
      "bubble chart",
      "trellis",
      "line graph"
    ],
    "contents": "\r\n\r\nContents\r\n1. Original Visualisation\r\n2. Critiques\r\n3. Proposed Design\r\n4. Final Visualisation\r\n5. Data Visualisation Steps\r\n6. Observations\r\n\r\n\r\n\r\nbody{\r\n  background-color: #F5F5F5;\r\n}\r\n1. Original Visualisation\r\nFigure 1: Original visualisationData Source\r\nThe data visualization above is created by using data provided by Department of Statistics, Singapore (DOS).\r\n2. Critiques\r\n2.1 Clarity\r\nNo title provided at the top for reader to understand the main idea of the visualization.\r\nChart did not indicate which period range the figures are derived from.\r\nPoor placement of commentary- The “I” section acts as a commentary to provide users on the context of the chart and what it is trying to show and hence placement should be below the title and before the main visualization so that the user will read this section first before looking at the chart.In this case, the user will only see this commentary after seeing the main visualization.\r\nIn this case, chart is a static chart hence user is unable to see the trending of exports, imports and net exports/ imports. There is no indication of which year this chart is representing, as well as historical information to show when Singapore’s trade with China and US has become net exporter and net importer respectively. Hence we are unable to align what we have read in the “I” section with what is shown in the graph.\r\nThe data source has a note included which lists the countries which are included under the EU category. This was not included as a note in the chart for the user’s clarity.\r\nLabeling of the axis is not clear. “Export” label is written underneath the y-axis (which represents imports) and “Import” label is written to the left of the x-axis (which represents exports).\r\nChart did not specify what the labels are referring to- if they are referring to exports/ imports or total merchandise trade.\r\n2.2 Aesthetics\r\nAxis does not contain information on what currency this is measured in and must be read off the labels. This can be included in the axis information.\r\nChart uses labels instead of legends to show which color is representative of each country. However, due to the size of each different colored circle and the addition of labels, the chart looks cluttered.\r\nChart uses a note (instead of a legend) at the bottom to indicate that size of the bubbles is indicative of total merchandise trade value with the trading partner. This makes it less intuitive as the user is not able to decipher that at first glance and hence has to read on to understand what the size of the bubble represents.\r\nThe labels block essential information. For example, the label for United States is blocking the user from seeing the center point of the Taiwan bubble which is supposed to show if the country is a net exporter or importer, especially since the bubble falls close to the cutoff line between net exporter and importer.\r\nSize of the bubbles are too big and opacity is not adjusted for overlaps and hence creates overlap, obscuring information and clutters the chart. Most of the bubbles overlap but the opacity of the bubbles is not adjusted. This makes it difficult to read the chart. For example, for Republic of Korea, we are unable to see the center point of the circle which is supposed to show if the country is a net exporter or importer, especially since the bubble falls close to the cutoff line between net exporter and importer. Same issue for EU and Malaysia. The size of the bubbles can also be reduced to reduce chart clutter.\r\nThere is poor use of colors in the chart. Other than colors being used to differentiate region, background colors use another set of colors and is not particularly useful as it does not seem to serve any additional purpose. A reference line is sufficient to demarcate the cutoff between net exporters and importers.\r\nToo many symbols are used in this chart, and they look similar which may also confuse the user. For example, the top net exporter and importer are each given a symbol and annotated next to the country’s bubble in the chart. This adds on to the clutter of colors and shapes we already see in the chart. Furthermore, exports and imports are given yet another set of symbols which have similar colors to top net exporters and importers respectively. Only minor differences are noted between each set of symbols. There is no need to have symbols for exports and imports as they do not serve any purpose and the user is better off simply reading the axis labels.\r\n3. Proposed Design\r\nSketch\r\nFigure 2: Sketch of proposed designAdvantages of proposed design\r\n3.1 Clarity\r\nTitle added at the top for reader to understand the main idea of the visualization.\r\nTitle of dashboard indicates periods that the figures are derived from. Also, interactivity is added so that user is able to toggle and adjust the date that they wish to see.\r\nCommentary is added right below title to provide users on the context of the chart. Commentary also refers to the same period as what is reflected in the charts (2011-2020), hence allowing users to align the commentary with the charts.\r\nIncluded note which states the countries which are included under the EU category. This is important as EU is not a country and instead consists of several countries under this categorization.\r\nAxis are clearly labelled without the need to use symbols.Top Net Exporter and Top Net Importer for each period is also indicated in the Ranking bar chart, without the use of symbols as in the original visualization.\r\nInstead of using labels which may cause clutter in the chart, we have used the interactive tooltip function to provide additional details on Import, Export, Net Trade and even Ranking of the countries.\r\n3.2 Aesthetics\r\nAxis contains all information on denomination of the figures- both SGD and that the figures are denominated in billions.\r\nSize of bubbles has been adjusted smaller to reduce chart clutter. Labels have been revised to take up a smaller area compared to original visualization, hence reducing clutter.\r\nLegend is used to indicate that size of the bubble is indicative of total merchandise trade value with the trading partner. This makes it more intuitive as the user is not able to decipher straightaway what the size of the bubble represents.\r\nSize of labels have been reduced and is presented in plain string form (instead of in a box like original visualization). This reduces space taken up. Labels are also presented in the same color as the bubbles for alignment. This resolves the issue in the original visualization where the labels block essential information\r\nSize of bubbles has been adjusted smaller and opacity is adjusted to 50% to accommodate overlaps. Users will still be able to decipher essential information should be bubbles overlap. Black border has also been added to the bubbles to highlight the borders. These adjustments makes it easier to read the chart and reduce chart clutter.\r\nProposed visualization has removed the background colors as they not particularly useful and does not serve any additional purpose. A reference line and anntations have been added to demarcate the cutoff between net exports and net imports.\r\nProposed visualization has removed the top net exporter and importer symbols used in the original visualization with annotations and an additional bar chart showing ranking of net trade instead. User can easily identify the top net exporter and importer from the ranking bar chart. Symbols representing exports and imports are also removed as users can refer to these easily from the chart axis as well as tooltip. This reduces the clutter of symbols we see in the original visualization.\r\n4. Final Visualisation\r\n4.1 Snapshot of dashboard\r\nFigure 3: Snapshot of dashboard- full visualisation available at Tableau Public5. Data Visualisation Steps\r\nTableau Prep\r\nAfter downloading the data, select data for the relevant countries from each dataset (import and export dataset) and paste into a new sheet using Microsoft Excel.\r\nFigure 4: Select data for relevant countriesOpen Tableau Prep and connect the file to Tableau Prep. Drag the relevant sheets onto the main pane.\r\nFigure 5: Drag sheets into main paneClick on + to add the next step. Select the pivot option and drag the period columns into the pivot fields pane. Period columns refer to those columns represented by “2011 Jan” through “2020 Dec”. This step is to tell Tableau Prep which fields should be pivoted.\r\nFigure 6: Select columns to pivotClick on + to add the next step. Next, we will join both datasets using the join function, with the below join clauses (Figure 7). The flow should now look similar to Figure 8.\r\nFigure 7: Inner join both datasetsFigure 8: Current stepsNext, add a clean step. We will now make the following changes to the joined dataset.\r\nMerge the two columns named “Variables” and “Variables-1” into one column as they represent the same information. Drag “Variables-1” into “Variables”.\r\nMerge the two columns named “Pivot1 Names” and “Pivot1 Names-1” into one column as they represent the same information. Drag “Pivot1 Names-1” into “Pivot1 Names”.\r\nRename “Pivot1 Values-1” and “Pivot1 Values” into “Imports” and “Exports” respectively.\r\nTrim the “Variables” column to remove unnecessary spaces, using the formula seen in Figure 9. Right click on the “variables” column title > select clean > select Trim Spaces.\r\nSplit “Variables” column using “(“ as separator. Right click on the”variables\" column title > select Split Values > select Custom Split. Enter “(“ into the”Use as separator\" selection and retain the original selection under Split off field selection (Figure 10). Click on the split button. After splitting, remove the original column (“Variables”) and rename the newly split column as “Region”.\r\nRename “Pivot1 Names-1” column into “Date”. The current dataset should look similar to Figure 11.\r\n\r\nFigure 9: Trim formulaFigure 10: Split column selectionFigure 11: Dataset setupClick on + to add the next step. Select the Clean option and make the following amendments to the dataset.\r\nUpdate the variable datatypes:\r\nExports and Imports- from String to Number decimal type\r\nDate- from String to Date type\r\n\r\nCreate two new calculated fields and name them “Imports Aligned” and “Exports Aligned”. This is to align the denomination of Europe (presented in millions) with the other regions (in thousands). The formulas should be as shown in Figure 12 (Imports Aligned) and Figure 13 (Exports Aligned) below.\r\nRemove the original “Exports” and “Imports” columns.\r\n\r\nFigure 10: Create Imports Aligned Calculated FieldFigure 11: Create Exports Aligned Calculated FieldClick on + to add the next step. Select the Output option. We will save the results in Tableau Data Extract format (.hyper). Select this format under “Output Type” and update the Name and Location of this saved file if need be. Leave the other options as default selections. See Figure 12 for the selections made. Once finalized, click Run Flow.\r\nFigure 12: Output file selectionsSave the Tableau Flow File by selecting File> Save As> Input Name of file and location to save in. This is so that we can refer back to this Tableau Prep Flow File if we need to make any amendments.\r\nTableau Desktop\r\nLine graph\r\nOpen Tableau Data Extract file saved previously. This should open up Tableau Desktop directly. The connections and extract table should already have been added in the file. Tableau Prep outputs Hyper files, and can publish data sources to Tableau Server or Tableau Online, connected to from Tableau Desktop. The Data Source tab should look like Figure 13 below (Tableau Extract file name will differ depending on what you have named the file).\r\nFigure 13: Data Source tabCreate a new sheet.As we will be presenting the charts for ten countries in the form of a trellis, we have to create two calculated fields called “x-axis” and “y-axis”.\r\nCreate a new calculated field and name it “x-axis”, with the below formula (Figure 14).\r\nCreate another calculated field named “y-axis”, with the below formula (Figure 15).\r\n\r\nFigure 14: x-axis calculated field formulaFigure 15: y-axis calculated field formulaDrag [Date] to columns and change selection to month. Change data type to continuous.\r\nFigure 16: Drag Date to columnsDrag [Exports Aligned] to rows, then drag [Imports Aligned] and drop it into the chart as seen in Figure 17 below. This creates a Measure Values shelf that appears in the data pane and contains all the measures of the data collected into one field.\r\nFigure 16: Drag Exports Aligned and Imports Aligned to rowsDrag the calculated fields [x-axis] and [y-axis] to Columns and Rows respectively. Convert both fields into discrete fields.\r\nFigure 17: Update fieldsDrag [Region] into the Marks card under detail.\r\nFigure 18: Drag Region into detailClick on the small arrow next to [x-axis] and [y-axis] in Columns and Rows respectively. Select Edit table calculation for both [x-axis] and [y-axis] calculated fields. Select computation using Specific Dimensions- by [Region] then by [Month of Date], at the level of [Region].\r\nFigure 19: Edit table calculation for x-axis and y-axis fieldsCreate another calculated field named [Net Exports/Imports], with the below formula.\r\nFigure 20: Net Exports/Imports calculated fieldDrag [Net Exports/Imports] into Rows and select dual axis by clicking on the small arrow next to the field name. Right click on the axis and select synchronize axis (Figure 21).\r\nFigure 21: Synchronize axisOn the Marks card for [Net Exports/Imports], click the Mark Type drop-down and select bar.\r\nFigure 22: Change Mark type to bar11.Drag [Net Exports/Imports] to Color on the Marks card. On the Marks card, click Color > Edit Colors. a. Update stepped color option to 2 steps as we want to show negative and positive values in different colors. b. Click on the drop down under palette and select the red-green diverging option (Figure 23). c. Adjust the slider under opacity to 50% (Figure 24).\r\nFigure 23: Update colorsFigure 24: Update opacityHide the below axis headers and field labels by deselecting Show Header and selecting hide field labels respectively.\r\nFigure 25: Hide Column Field LabelsFigure 26: Hide headerFigure 27: Hide headerFigure 28: Hide headerNext, we want to add a label to indicate which country each panel is representing. Drag [Region] into the Sum(Net Exports/Imports] Marks card, under Label. Click on Label and select Most Recent option, so labels will appear at the end of the bar chart, to avoid cluttering the graph with labels.\r\nFigure 29: Add Country LabelDrag [Date] into the Pages pane and select Month format by clicking on the arrow next to Date.\r\nFigure 30: Drag Date to Pages pane and select Month formatUpdate the Measure Values Marks Card and change Mark Type to Circle instead of Automatic.\r\nFigure 31: Update Mark Type to CircleOn the animation window that appears on the right of the sheet (below Measure Names), tick on Show history option and click on the arrow next to Show history. Make the following selections:\r\nMarks to show history for: Change to All\r\nShow: Both\r\n\r\nFigure 32: Make the above animation selectionsNext, we will amend the y-axis. Right click on y-axis and select Edit Axis. We will edit the y-axis for the following:\r\nUnder the General pane, update range. Select radio button for fixed and amend start and end to -5 and 10 respectively.\r\nUpdate Title under Axis Titles to “SGD (Billions)”.\r\nUnder the Tick Marks pane, select radio button for fixed and amend Tick Interval to 5.\r\n\r\nFigure 33: Update range and title of y-axisFigure 34: Update tick interval of y-axisNext, we will amend the x-axis. Right click on x-axis and select Edit Axis. We will edit the x-axis for the following:\r\nUnder the General pane, update range. Select radio button for fixed and amend start and end to 1/7/2010 and 30/6/2021 respectively. This is to provide a small gap at the start and end of each trellis panel. Next, uncheck Show times.\r\nUpdate Title under Axis Titles to “Month”.\r\nUnder the Tick Marks pane, select radio button for fixed and amend Tick origin to begin at 1/1/2019, and Tick Interval to 2 years.\r\n\r\nFigure 35: Update range and title of x-axisFigure 36: Update tick interval of x-axisUpdate the Legend Title by clicking on the small drop down arrow on the legend pane and selecting Edit Title.\r\nFigure 37: Update legend titleFigure 38: Update legend titleFigure 39: Update legend titleCreate two calculated fields [Net Export position] and [Net Import position], with the formulas shown in Figure 40 and Figure 41 respectively. Drag these two fields into the Sum(Net Exports/Imports) Marks card under Tooltip.\r\nFigure 40: Create Net Export position calculated fieldFigure 41: Create Net Import position calculated fieldClick on Tooltip > Insert the above calculated fields under Net Exports/Imports and color <AGG(Net Export position)> and <AGG(Net Import position)> green and red respectively (Figure 42). Align the other tooltip fields to Figure 42 below. Edit Tooltip in the Measure Values Marks card (Figure 43).\r\nFigure 42: Edit Tooltip for Sum(Net Exports/Imports) Marks cardFigure 43: Edit Tooltip for Measure Values Marks cardAlign fonts used in graph to Tableau Light. Adjust size of labels and legends to font size 9.\r\nSort trellis by [Exports Aligned]. Under Measure Values Marks card, Select [Region] > Sort > Sort by Field > Descending order > Input Field Name as “Exports Aligned” > Select Sum under Aggregation. This sorts the trellis panel by exports across the ten countries.\r\nFigure 43: Sort by Exports AlignedRight click on the main chart pane > select format > click on the arrow next to Fields and select the Sum (Exports Aligned). Under the Pane tab, click on the dropdown next to Numbers and select Number (Custom), then update Decimal Places to 2. Do this for Sum (Imports Aligned), Sum (Net Exports/ Imports), AGG(Net Export position) and AGG(Net Import position) too. This is to align all tooltips to 2 decimal places.\r\nFigure 43: Format variables to 2 decimal placesAdd Title: “Singapore’s Exports, Imports and Net Trade Position with Regions, from 2011-2020”. Apply bolding and change font size to 12. Change font color to white. Right click on title pane > select Format Title > Under Title section, select blue next to Shading.\r\nFigure 44: Format TitleBar Chart\r\nDrag [Net Exports/ Imports] into Columns.\r\nDrag [Region] into the Marks card and drop it under Label.\r\nFigure 44: Drag Region to LabelCreate a new calculated field names [Ranking], with the below formula. Drag [Ranking] into Rows.\r\nFigure 45: Create Ranking Calculated fieldClick on the small arrow next to Ranking and select discrete. Click on Edit Table Calculation > Specific Dimensions > Select Region.\r\nFigure 46: Edit Ranking Table CalculationDrag [Net Exports/ Imports] into Marks card and drop it under Color.\r\nFigure 47: Drag Net Exports/ Imports to ColorDrag [Date] into the Pages pane and select Month format by clicking on the arrow next to Date.\r\nFigure 48: Drag Date to Pages pane and select Month formatUpdate view format to Fit Height to make better use of the space\r\nFigure 49: Update view to Fit HeightNext, we will amend the x-axis. Right click on x-axis and select Edit Axis. We will edit the x-axis for the following:\r\nUnder the General pane, update range. Select radio button for fixed and amend start and end-7 and 7 respectively.\r\nUpdate Title under Axis Titles to “Net Exports/ Imports (SGD Billions)”.\r\nUnder the Tick Marks pane, select radio button for fixed and amend Tick origin to begin at 0, and Tick Interval to 1.\r\n\r\nFigure 50: Update range of x-axisFigure 51: Update tick interval of x-axisUpdate the Legend Title by clicking on the small drop down arrow on the legend pane and selecting Edit Title.\r\nFigure 52: Update legend titleFigure 53: Update legend titleAlign fonts used in graph to Tableau Light. Adjust size of labels and legends to font size 9.\r\nClick on Tooltip and update the tooltip fields to Figure 54 below.\r\nFigure 54: Edit TooltipClick on Format > Animations > Turn On Animations > Update Style to Simultaneous.\r\nFigure 55: Update Animations settingsRight click on the main chart pane > select format > click on the arrow next to Fields and select the Sum (Net Exports/ Imports). Under the Pane tab, click on the dropdown next to Numbers and select Number (Custom), then update Decimal Places to 2. This is to align all tooltips to 2 decimal places.\r\nFigure 43: Format variables to 2 decimal placesUnder Measure Values Marks card, click on Size and drag the slider all the way to the left.\r\nFigure 44: Format variables to 2 decimal placesAdd Title: “Ranking of Singapore’s Net Trade Position with Regions”. Apply bolding and change font size to 12. Right click on title pane > select Format Title > Under Title section, select blue next to Shading.\r\nBubble chart\r\nDrag [Imports Aligned] and [Exports Aligned] into Columns and Rows respectively.\r\nDrag [Region] into the Marks card and drop it under Color.\r\nCreate a new calculated field names [Total Merchandise Trade], with the below formula. Drag [Total Merchandise Trade] into Marks card under Size.\r\nFigure 44: Create calculated fieldDrag [Exports Aligned] into Columns and select Dual Axis. Synchronize the axis.\r\n\r\n41. Remove Measure Names and Sum(Total Merchanise Trade) from the All Marks card. Navigate to the Sum (Exports Aligned) Marks card. Click on Size > Adjust the slider all the way to the left. Click on Color > Change Opacity to 0%.\r\nFigure 46: Change SizeFigure 47: Change OpacityRight click on the Bubble Chart > Select Trend Lines > Show Trend Lines > Sum(Export Aligned).\r\nFigure 48: Add 45 degree Trend LineDrag [Date] into the Pages pane and select Month format by clicking on the arrow next to Date.\r\nFigure 48: Drag Date to Pages pane and select Month format43.Next, we will amend the y-axis. Right click on y-axis and select Edit Axis. We will edit the y-axis for the following: a. Under the General pane, update range. Select radio button for fixed and amend start and end to 0 and 9 respectively. b. Update Title under Axis Titles to “Exports (SGD Billions)”. c. Under the Tick Marks pane, select radio button for fixed and amend Tick Interval to 1.\r\nFigure 49: Update range and title of y-axisFigure 50: Update tick interval of y-axisNext, we will amend the x-axis. Right click on x-axis and select Edit Axis. We will edit the x-axis for the following:\r\nUnder the General pane, update range. Select radio button for fixed and amend start and end to 0 and 9 respectively.\r\nUpdate Title under Axis Titles to “Imports (SGD Millions)”.\r\nUnder the Tick Marks pane, select radio button for fixed and amend Tick origin to begin at 0, and Tick Interval to 1.\r\n\r\nFigure 51: Update range and title of x-axisFigure 52: Update tick interval of x-axisRight click on the Trend Line > Select Format > Under the Sheet Tab, under Trend Lines, select the broken line and a dark gray color for the Trend Lines. We will use broken lines and color to differentiate Trend Lines.\r\nFigure 53: Format Trend LinesDrag [Total Merchandise Trade] field into the Sum(Imports Aligned) Marks card and drop it under Size. Click on Size and adjust the slider as seen in Figure 54. Update the Mark Type to Circle and edit the Opacity to 50%. Click on the dropdown next to Border and select black color, as seen in Figure 55.\r\nFigure 54: Drop Total Merchandise Trade into Size in Marks cardFigure 55: Update Opacity and Border ColorRight click on the Export Aligned header at the top of the Bubble Chart and deselect Show Header.\r\nFigure 56: Hide Export Aligned HeaderUpdate the Legend Title by clicking on the small drop down arrow on the legend pane and selecting Edit Title.\r\nFigure 57: Update legend titleFigure 58: Update legend titleRight click on [Total Merchandise Trade] legend > select Edit Sizes > Select box next to STart Value in Legend and End Value in Legend and input 2 and 14 respectively > click ok.\r\nFigure 59: Edit SizeOn the animation window that appears on the right of the sheet (below Region), click on Show history option and click on the arrow next to Show history. Make the following selections:\r\nMarks to show history for: Change to Last 6\r\nShow: Trails\r\n\r\nFigure 60: Make the above animation selectionsNext, we want to label each bubble with the country they are representing. We also want to align the color of the label to the bubble color. In order to do so, create a calculated field for each country with the formula as per Figure 61. Drag the calculated fields and drop them under Label in the Sum(Imports Aligned) Marks card.\r\nFigure 61: Create 10 new calculated fields with the above formula, updating for the relevant countryFigure 62: Drag Label Calculated fields to LabelIn the Sum(Imports Aligned) Marks card, click on Label. Click on the “…” next to Text to edit labels. Align the colors in the Edit Label pane to the colors representing each country in the bubble chart. To do that, click on “…” to edit label. Highlight the relevant country label and click on the arrow next to the color block at the top of the pane. Select More colors > Pick Screen Color. This will create a cursor which you can direct to the color representing each region in the Region legend. Right click on the color in the Legend and this color will be applied to the selected country label. Apply bolding to the labels. After doing so, the Edit Label pane should look like Figure 63 below. Click ok, then select Allow labels to overlap other marks option under the Options section.\r\nFigure 63: Edit Label paneClick on Tooltip under Sum(Imports Aligned) Marks card and edit Tooltips to align with Figure 64 below. Remove all variables from Tooltip under the Sum(Export Aligned) Marks card (Figure 65).\r\nFigure 64: Update Tooltip- Sum(Imports Aligned) Marks cardFigure 65: Update Tooltip- Sum(Export Aligned) Marks cardRight click on the main chart pane > select format > click on the arrow next to Fields and select the [Sum (Export Aligned)]. Under the Pane tab, click on the dropdown next to Numbers under Default section and select Number (Custom), then update Decimal Places to 2. This is to align all tooltips to 2 decimal places. Do the same for [Sum(Imports Aligned)] and [Total Merchandise Trade].\r\nFigure 66: Format variables to 2 decimal placesAlign fonts used in graph to Tableau Light. Adjust size of labels and legends to font size 9.\r\nAdd Title and Commentary: “Singapore’s Exports, Imports and Net Trade Position with Regions”.Apply bolding and change font size to 12. Right click on title pane > select Format Title > Under Title section, select blue next to Shading.\r\nDashboard\r\nChange dashboard size to Automatic.\r\nFigure 67: Change Dashboard SizeArrange layout according to sketch. Drag and drop sheets into frame. Remove all legends except for [Total Trade Merchandise (SGD Millions)]. Click on the legend > click on the arrow next to the box > select floating and drag the box to the bubble chart as shown in Figure 68.\r\nFigure 68: Arranged layoutAdd source- Using Objects > Text > drag to bottom of dashboard and add: Source: Department of Statistics, Singapore (DOS) (https://www.singstat.gov.sg/) Change font size to 9, font to Tableau Light and color to black.\r\nAdd author- Using Objects > Text > drag to bottom right of dashboard and add: Dataviz Makeover 2| Stella Loh Change font size to 9, font to Tableau Light and color to black.\r\nAdd note- Using Objects > Text > drag to anywhere in dashboard and add: “Note: The European Union comprises Austria, Belgium, Bulgaria, Croatia, Cyprus, Czech Rep, Denmark, Estonia, Finland, France, Germany, Greece, Hungary, Ireland, Italy, Latvia, Lithuania, Luxembourg, Malta, Netherlands, Poland, Portugal, Romania, Slovak Rep, Slovenia, Spain and Sweden.”\r\nChange font size to 5, font to Tableau Light and color to black. Click on the text box > click on the arrow next to the box > select floating and drag the text box to the top left bubble chart.\r\nAdd dashboard title- Using Objects > Text > drag to top of dashboard. Add title: “Singapore’s Trade with Regions, from 2011-2020”. Adjust the title to be aligned in the middle, apply bolding, change font size to 15, and change font color to white. Click on title and select the Layout tab on the left pane > Background > select a blue background and white font for the dashboard title so that the title stands out.\r\nFigure 69: Format dashboard title backgroundWe will now add some highlight functions to the dashboard. Select Dashboard > Actions > Add Action. Update the Edit Highlight Action pane to the below. We want to be able to run the highlighting action on Hover and from any chart in the dashboard. Highlighted fields in the other charts will be based on Region.\r\nFigure 69: Update Edit Highlight Action paneAdd annotations. Right click on the bubble plot in the dashboard > select Annotate > Area. Add annotations indicating the areas for Net Exports and Net Imports. Apply bolding, change font to Tableau Light, font size to 9 and color to green. For consistency, we will select the same shade of green as that used in the Red-Green diverging color scheme used in the line chart.\r\nDo the same for the ranking bar chart. Updated dashboard with annotations added should look like Figure 70.\r\nFigure 69: Add annotations6. Observations\r\nOne way to study the Singapore’s trade patterns with various trading partners is to track how net trade changes across time. The above dashboard does this by plotting the exports, imports and net trade of Singapore’s trade with various regions, for the period 2011-2020.\r\nThis dashboard consists of three charts: i. Bubbleplot showing each region’s export and import ii. Line graph showing exports, imports and net trade over time. iii. Bar chart showing the ranking of each region by net trade with Singapore.\r\nImports from Taiwan reached a new high in Dec 2020 (S$4.9 m=billion) and has been on a steady uptrend in year 2020. Although exports to Taiwan has also reached a new high in Dec 2020 (S$2.73 billion), the rate of increase in imports exceeds that of exports in year 2020, resulting in a growing trade deficit with Taiwan. This can be observed from the steeper slope of the import line compared to export line in year 2020.\r\nA possible reason for the increase in imports could be due to the Covid-19 pandemic. Taiwan was able to successfully control the pandemic as compared to some of Singapore’s other trade partners. Hence some of the imports may have been diverted to Taiwan.\r\nBoth exports and imports from Malaysia saw a steep decline in Apr’2020 and rebounded strongly in June’2020. This may be due to the circuit breaker and MCO period in Singapore and Malaysia respectively where citizens were encouraged to stay home and many shops were closed for business. The circuit breaker period in Singapore lasted from Apr’20 to May’20 and measures were relaxed in Jun’20.\r\nSingapore has consistently been in a net trade deficit with Malaysia since early 2020. Singapore imports over 90% of the food consumed in the country link and hence the lack of transportation options, coupled with the severity of the pandemic in some of the trading partners, may have resulted in increased imports from Malaysia due its geographical proximity.\r\nSingapore’s net trade deficit with United States has been showing a decreasing trend since 2019, and eventually becoming a net trade surplus for most of 2020. This is due to declining imports, with the largest decline between Apr’20 and May’20. We also see an increasing trend for exports to United States with a steady increase since Aug’19 and peaking in Jul’20.\r\nWe have also observed a declining trade deficit with Europe, brought about by a sharp dip in imports between Jan’2020 to May’2020. This may be due to heightened pandemic measures leading to the circuit breaker period in Singapore. As most shops were closed during this period and Singaporeans were encouraged to stay in, this may have reduced demand for machinery and vehicles, which are the main imports from Europe [link] (https://ec.europa.eu/eurostat/statistics-explained/index.php?title=Singapore-EU_-_international_trade_in_goods_statistics#EU-Singapore_trade_by_type_of_goods).\r\nWe also noticed that net trade deficit with Europe forms a double hump pattern- increasing steadily from 2010 and peaking in Oct’13, then steadily declining to a low in May’2016. This is followed by a steady increase and peaking once more in Jul’18 and downtrend till Jun’20.\r\nSingapore’s net trade balance with Hong Kong consistently ranks top out of the ten regions included in this analysis. Europe and United States were typically at the bottom of the ranking but United States has consistently been replaced by Taiwan since Jan’2019.\r\nSingapore’s net trade balance with Indonesia is on a declining trend across the 10 years, mainly brought about by declining exports. Singapore’s main exports to Indonesia are refined petroleum, petrochemicals and telecommunications equipment link.\r\nSingapore’s trade deficit with Republic of Korea has turned to a consistent trade surplus since 2018. This is mainly due to declining imports while exports have remained relatively consistent.\r\nSharp increase in exports to Thailand in Mar’20, followed by a steep decline till May’20. We see a similar spike in imports from Thailand in Apr’20, followed by a sharp decline to Jun’20. Main exports and imports from Thailand is refined petroleum.Weak refining margins prompted Thai refiners to reduce their operating rates and carry out some minor maintenance, causing lower crude import volumes in May’20.\r\nSpike in exports to Mainland China between Jul’20 to Aug’20 and maintaining at a higher range since then. This may be due to China being one of the first countries to recover economically from the pandemic. China’s economy picked up speed in the fourth quarter, with growth beating expectations. link. This may explain the increase in exports to China during the last quarter of 2020.\r\n\r\n\r\n\r\n",
    "preview": {},
    "last_modified": "2021-06-15T01:12:09+08:00",
    "input_file": {}
  },
  {
    "path": "posts/2021-05-24-dafaviz-makeover-1/",
    "title": "DataViz Makeover 1",
    "description": "DataViz Makeover 1 for ISSS608: Visual Analytics",
    "author": [
      {
        "name": "Stella Loh",
        "url": "https://www.linkedin.com/in/stella-loh-308b72129/"
      }
    ],
    "date": "2021-05-30",
    "categories": [
      "dataviz_makeover",
      "trellis",
      "line graph"
    ],
    "contents": "\r\n1. Original Visualisation\r\nFigure 1: Original visualisationData Source\r\nThe data visualisation above is created by using data provided by Department of Statistics, Singapore (DOS).\r\n2. Critiques\r\n2.1 Clarity\r\nChart title is not aligned with the chart content- Title reads as “Merchandise Trade of Top Six Trading Countries, 2019-2020”. However, chart for Japan only reflects 2020 data.\r\nChart axis is misleading-\r\ny-axis scale differs across each country’s chart. This makes the charts not comparable at first glance, and will mislead users who do not read the graph in detail.\r\nCharts have dual y-axis for imports and exports. The scales for imports and exports within each country’s chart are not synchronized and hence have different ranges. This makes it difficult to compare whether a country is in net export/ import position. This may also be misleading to users who do not read the graph in detail, as they may assume net export/import position simply by seeing the area under the line.\r\n\r\nChart did not specify criteria for which top 6 trading partners is chosen- Considerations such as assessed period and criteria being considered (net trade balance/ import/ export or consider each separately) are not specified. Since the selection criteria is not specified in the chart, we cannot make assumptions on the criteria in this Dataviz exercise. Hence, we should avoid mentioning “top six” in the title.\r\nPresentation may not be the most appropriate depending on what the author is trying to show-\r\nComparing import and export across time and across countries- since the x-axis and y-axis are not synchronized across each country’s chart, users are unable to do a simple comparison of the area under the line across the charts, for each month.\r\nComparing net import/ export across time for each country- additional mental subtraction (as scales are not synchronized) and assessment of area under the line required by user to arrive at net export/import for each period.\r\n\r\nNo commentary provided- reader does not have commentary to understand the main idea of the visualisation.\r\nDoes not include data source- reader is unable to verify the data, nor replicate the chart using source data.\r\nDoes not specify measurement currency- reader will not know if figures for each country is measured in the same currency. This can be included in the axis information.\r\n2.2 Aesthetics\r\nDifferent alignments of x-axis- charts of various thickness makes the entire visualisation look disorganised. User is also unable to make a meaningful assessment across each country’s chart for each time period given that the x-axis is not aligned.\r\nChart title vs country name font size- Font size of title should be larger than the country name as the title will introduce to the user what the chart is about.\r\nAnnotations are not used to convey points, leaving the reader to infer the purpose of the graph.\r\nPoor use of colors in the chart- use of area chart with overlap of colors makes it difficult to read.\r\nNo tick marks for y-axis values even though it’s on a continuous scale.\r\nLegend title has been left as default (Measure Names), instead of being renamed into something more intuitive and clear to the user.\r\n3. Proposed Design\r\nSketch\r\nFigure 2: Sketch of proposed designAdvantages of proposed design\r\n3.1 Clarity\r\nChart title is aligned with the chart content- chart shows only the relevant periods as aligned with title.\r\nChart axis is aligned across all 6 countries-\r\ny-axis scale is aligned across each country’s chart.\r\nCharts have synchronized axis for imports, exports and net exports/imports.\r\nx-axis width and scale is aligned across each country’s chart.\r\n\r\nProposed chart shows exports, imports and net exports/imports across time for each country- users are able to identify trends across time for the three variables. This also reduces the need for users to manually compute the net export/import.\r\nChart title provides audience with the big picture, followed by short commentary to provide more context.\r\nData source is included in chart.\r\nReference line is added for user to easily identify the demarcation between 2019 and 2020, allowing the user to eyeball the line and bar charts to assess for seasonality effects. Color and line type of reference line is chosen so as to avoid distracting the user.\r\nMeasurement currency is specified in the axis so reader will know at one glance.\r\n3.2 Aesthetics\r\nx-axis is aligned across each country’s chart- this makes the visualisation more organised and allows users to compare the trends across time for each country.\r\nFont size for chart title, commentary and chart annotations have been adjusted so as not to divert reader’s attention.\r\nColors are consistent throughout the dashboard with clear legend on what they represent. Minimal overlapping of colors.\r\nTick marks added to y-axis scale. Soft gridlines have also been added to the chart to provide reference but not to distract users.\r\nAnnotations added to convey points, which includes computation of year-on-year difference in export and imports. This allows users to see at a glance, the trending for exports/ imports.\r\nDefault legend title has been renamed to be more representative and clear to the user.\r\n4. Final Visualisation\r\n4.1 Snapshot of dashboard\r\nFigure 3: Snapshot of dashboard- full visualisation available at Tableau Public5. Data Visualisation Steps\r\nAfter downloading the data, select data for the relevant countries from each dataset (import and export dataset) and paste into a new sheet using Microsoft Excel.\r\nFigure 4: Extract relevant dataTranspose the extracted import and export data, naming the date column as “Date” and value column as “Imports” or “Exports”.\r\nFigure 5: Transposed dataCombine the transposed import and export data.\r\nFigure 6: Combined dataPerform the following actions and save the manipulated data set as “data_clean”.\r\nNo\r\nVariable\r\nAction\r\n1\r\nVariables\r\nRename column as “Country”\r\n2\r\nVariables\r\nRemoved “(Thousand Dollars)” from value\r\n3\r\nImports\r\nRename column as “Imports (S$’000)”\r\n4\r\nExports\r\nRename column as “Exports (S$’000)”\r\nFigure 7: Rename columnsImport the data into Tableau.\r\nFigure 8: Import data into tableauChange data type- change Date data type to “Date”. Remove ($’000) from [Exports($’000)] and [Imports($’000)] as we will be indicating this in the axis information later.\r\nFigure 9: Update data sourceAs we will be presenting the charts for six countries in the form of a trellis, we have to create two calculated fields called “x-axis” and “y-axis”.\r\nCreate a new calculated field and name it “x-axis”, with the below formula (Figure 11).\r\nCreate another calculated field named “y-axis”, with the below formula (Figure 12).\r\n\r\nFigure 10: Create calculated fieldFigure 11: x-axis formulaFigure 12: y-axis formulaDrag [Date] to columns and change selection to month. Change data type to continuous.\r\nFigure 13: Drag date to columnsDrag [Exports($’000)] to rows, then drag [Imports($’000)] and drop it into the chart as seen in Figure 14 below. This creates a Measure Values shelf that appears in the data pane and contains all the measures of the data collected into one field.\r\nFigure 14: Drag exports and imports to rowsDrag the calculated fields [x-axis] and [y-axis] to Columns and Rows respectively. Convert both fields into discrete fields.\r\nFigure 15: Update fieldsDrag [Country] into the Marks card under detail.\r\nFigure 16: Drag country into detailEdit table calculation for both [x-axis] and [y-axis] calculated fields. Select computation using Specific Dimensions- by [Country] then by [Month of Date], at the level of [Country].\r\nFigure 17: Edit table calculation for x-axis and y-axis fieldsCreate another calculated field named [Net exports/imports], with the below formula.\r\nFigure 18: Net export/import calculated fieldDrag [Net exports/imports] into Rows and select dual axis. Right click on the axis and select synchronize axis (Figure 19).\r\nFigure 19: Synchronize axisOn the Marks card for [net exports/imports], click the Mark Type drop-down and select bar.\r\nFigure 20: Change mark type to barDrag [net exports/imports] to Color on the Marks card. On the Marks card, click Color > Edit Colors.\r\nUpdate stepped color option to 2 steps as we want to show negative and positive values in different colors.\r\nClick on the drop down under palette and select the red-green diverging option (Figure 21).\r\nAdjust the slider under opacity to 50% (Figure 22).\r\n\r\nFigure 21: Change colorsFigure 22: Adjust opacityHide the below axis headers and field labels by deselecting Show Header and selecting hide field labels respectively.\r\nFigure 23: Hide headerFigure 24: Hide headerFigure 25: Hide field label for columnsNow that we have created the trellis, we will move on to add labels to each panel. We want to show the % change in exports and imports year-on-year. Hence we will create four new calculated fields, [Sum Export Y-O-Y], [Sum Import Y-O-Y], [Export Diff Calculation], [Import Diff Calculation]. Formulas are shown below:\r\nFigure 26: Create Sum Export Y-O-Y calculated fieldFigure 27: Create Sum Import Y-O-Y calculated fieldFigure 28: Create Export Diff Calculation calculated fieldFigure 29: Create Import Diff Calculation calculated fieldDrag [Export Diff Calculation] and [Import Diff Calculation] into the Measure Values Marks card and drop it into Label. This will label the [Exports] and [Imports] line graph within each panel in the trellis. Click on Label and select Line Ends option, so labels will appear at the end of the line graph, to avoid cluttering the graph with labels.\r\nFigure 30: Label panelsAs we only need one label instead of two as seen in Figure 30 above, we will proceed to right click on the import line graph label and select Mark Label > Never Show. Now we are left with one label for each panel. Align the label to top right corner of each panel.\r\nFigure 31: Hide label for import line graphNext, we want to add a label to indicate which country each panel is representing. Drag [Country] into the Sum(Net exports/imports] Marks card, under Label. Click on Label and select Most Recent option, so labels will appear at the end of the bar chart, to avoid cluttering the graph with labels. Move the label to the top left of each panel and bold it to make it more visible to users.\r\nFigure 32: Align country label to top left of each panelNext, we will amend the y-axis. Right click on y-axis and select Edit Axis. We will edit the y-axis for the following:\r\nUnder the General pane, update range. Select radio button for fixed and amend start and end to -3,000,000 and 8,500,000 respectively.\r\nUpdate Title under Axis Titles to “Singapore Dollars ($’000)”.\r\nUnder the Tick Marks pane, select radio button for fixed and amend Tick Interval to 2,000,000.\r\n\r\nFigure 33: Update range and title of y-axisFigure 34: Update tick interval of y-axisNext, we will amend the x-axis. Right click on x-axis and select Edit Axis. We will edit the x-axis for the following:\r\nUnder the General pane, update range. Select radio button for fixed and amend start and end to 1/12/2018 and 31/1/2021 respectively. This is to provide a small gap at the start and end of each trellis panel. Next, uncheck Show times.\r\nUpdate Title under Axis Titles to “Month”.\r\nUnder the Tick Marks pane, select radio button for fixed and amend Tick origin to begin at 1/1/2019, and Tick Interval to 6 months.\r\n\r\nFigure 35: Update range and title of x-axisFigure 36: Update tick interval of x-axisUpdate the Legend Title by clicking on the small drop down arrow on the legend pane and selecting Edit Title.\r\nNo\r\nOriginal Title\r\nUpdated Title\r\n1\r\nMeasure Names\r\nTrade Type\r\n2\r\nSum(Net Exports/Imports)\r\nNet Exports/Imports\r\nFigure 37: Update legend titleFigure 38: Update legend titleCreate two calculated fields [Net export position] and [Net import position], with the formulas shown in Figure 39 and Figure 40 respectively. Drag these two fields into the Sum(Net exports/imports) Marks card under Tooltip.\r\nFigure 39: Create Net export position calculated fieldFigure 40: Create Net import position calculated fieldClick on Tooltip > Insert the above calculated fields under Net exports/imports and color <AGG(Net export position)> and <AGG(Net import position)> green and red respectively (Figure 41). Edit Tooltip in the Measure Values Marks card (Figure 42).\r\nFigure 41: Edit Tooltip for Sum(Net Exports/Imports) Marks cardFigure 42: Edit Tooltip for Measure Values Marks cardAlign fonts used in graph to Tableau Light. Adjust size of labels and legends to font size 9.\r\nSort trellis by [Exports($’000)]. Under Measure Values Marks card, Select [Country] > Sort > Sort by Field > Descending order > Input Field Name as “Exports($’000)” > Select Sum under Aggregation. This sorts the trellis panel by exports across the six countries.\r\nFigure 43: Sort by exportsAdd commentary: “Exports to the six trading partners have increased 2.0%, while imports have reduced 2.8%. There does not appear to be a seasonality effect for both exports and imports.” Apply bold effect to the percentages to accentuate them.\r\nAdd reference line to the x-axis. Right click on x-axis > select scope as Per Pane > change value type to constant and choose 1 Jan 2020 > Change Label to none and Tooltip to automatic. We also update the reference line formatting by selecting a thinner, dotted line and grey color, so as to differentiate it from the other gridlines in the chart. The reference line allows users to better segregate between both years, for each panel.\r\nFigure 44: Add Reference Line5.1 Dashboard\r\nAdd sheets into dashboard- Drag the “Singapore’s Trade with 6 countries” sheet into the dashboard.\r\nAdd dashboard title- Using Objects > Text > drag to top of dashboard. Add title: “Singapore’s Merchandise Trade with Six Trading Countries, 2019-2020”. Adjust the title to be aligned in the middle. Click on title and select the Layout tab > Background > select a grey background and white font for the dashboard title so that the title stands out from the rest of the graph.\r\nAdd source- Using Objects > Text > drag to bottom of dashboard and add: Source: Department of Statistics, Singapore (DOS) (https://www.singstat.gov.sg/) The raw data: https://www.singstat.gov.sg/find-data/search-by-theme/trade-and-investment/merchandise-trade/latest-data\r\nAdd author- Using Objects > Text > drag to bottom right of dashboard and add: Dataviz Makeover 1| Stella Loh\r\n6. Observations\r\nThere does not appear to be a seasonality pattern in the exports and imports across both years (2019 and 2020), across the six countries.\r\nHong Kong and Taiwan have remained consistently in the net export and net import position respectively.\r\nSingapore’s net trade with Malaysia is becoming increasing negative (net import position) in 2020, as compared to 2019. This is mainly due to declining exports to Malaysia. Exports have reduced 18.2% Y-O-Y while imports have increased 1.2% Y-O-Y.\r\nConversely, Singapore’s net trade with United States is becoming increasing positive (net export position) in 2020, as compared to 2019. This is mainly due to increasing exports to United States. Exports have increased 19.3% Y-O-Y while imports have reduced 19.0% Y-O-Y, making Singapore a net exporter for most of 2020.\r\nImports from Hong Kong are significantly lower than the other five countries.\r\nExports and imports to/ from Japan remain relatively stable over both years. Both exports and imports with Japan are relatively close and hence the net export or import position is small.\r\n\r\n\r\n\r\n",
    "preview": "posts/2021-05-24-dafaviz-makeover-1/Image/finalviz.JPG",
    "last_modified": "2021-06-10T01:29:07+08:00",
    "input_file": {}
  },
  {
    "path": "posts/welcome/",
    "title": "Welcome!",
    "description": "Welcome to my blog. I will be updating this blog with Dataviz projects I have undertaken. Feel free to contact me via [email](mailto:stellaloh91@gmail.com) with any comments!",
    "author": [
      {
        "name": "Stella Loh",
        "url": "https://www.linkedin.com/in/stella-loh-308b72129/"
      }
    ],
    "date": "2021-05-23",
    "categories": [
      "welcome"
    ],
    "contents": "\r\n\r\n\r\n\r\n",
    "preview": "posts/welcome/Image/data.jpeg",
    "last_modified": "2021-05-24T23:21:50+08:00",
    "input_file": {}
  }
]
