<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
  <meta name="generator" content="distill" />

  <style type="text/css">
  /* Hide doc at startup (prevent jankiness while JS renders/transforms) */
  body {
    visibility: hidden;
  }
  </style>

 <!--radix_placeholder_import_source-->
 <!--/radix_placeholder_import_source-->

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ad0000; } /* Alert */
code span.an { color: #5e5e5e; } /* Annotation */
code span.at { color: #20794d; } /* Attribute */
code span.bn { color: #ad0000; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007ba5; } /* ControlFlow */
code span.ch { color: #20794d; } /* Char */
code span.cn { color: #8f5902; } /* Constant */
code span.co { color: #5e5e5e; } /* Comment */
code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
code span.dt { color: #ad0000; } /* DataType */
code span.dv { color: #ad0000; } /* DecVal */
code span.er { color: #ad0000; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #ad0000; } /* Float */
code span.fu { color: #4758ab; } /* Function */
code span.im { } /* Import */
code span.in { color: #5e5e5e; } /* Information */
code span.kw { color: #007ba5; } /* Keyword */
code span.op { color: #5e5e5e; } /* Operator */
code span.ot { color: #007ba5; } /* Other */
code span.pp { color: #ad0000; } /* Preprocessor */
code span.sc { color: #20794d; } /* SpecialChar */
code span.ss { color: #20794d; } /* SpecialString */
code span.st { color: #20794d; } /* String */
code span.va { color: #111111; } /* Variable */
code span.vs { color: #20794d; } /* VerbatimString */
code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
</style>

  <!--radix_placeholder_meta_tags-->
<title>Stella's Analytics Blog: DataViz Makeover 2</title>

<meta property="description" itemprop="description" content="DataViz Makeover 2 for ISSS608: Visual Analytics"/>


<!--  https://schema.org/Article -->
<meta property="article:published" itemprop="datePublished" content="2021-06-16"/>
<meta property="article:created" itemprop="dateCreated" content="2021-06-16"/>
<meta name="article:author" content="Stella Loh"/>

<!--  https://developers.facebook.com/docs/sharing/webmasters#markup -->
<meta property="og:title" content="Stella&#39;s Analytics Blog: DataViz Makeover 2"/>
<meta property="og:type" content="article"/>
<meta property="og:description" content="DataViz Makeover 2 for ISSS608: Visual Analytics"/>
<meta property="og:locale" content="en_US"/>
<meta property="og:site_name" content="Stella&#39;s Analytics Blog"/>

<!--  https://dev.twitter.com/cards/types/summary -->
<meta property="twitter:card" content="summary"/>
<meta property="twitter:title" content="Stella&#39;s Analytics Blog: DataViz Makeover 2"/>
<meta property="twitter:description" content="DataViz Makeover 2 for ISSS608: Visual Analytics"/>

<!--/radix_placeholder_meta_tags-->
  <!--radix_placeholder_rmarkdown_metadata-->

<script type="text/json" id="radix-rmarkdown-metadata">
{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["title","description","author","date","categories","output"]}},"value":[{"type":"character","attributes":{},"value":["DataViz Makeover 2"]},{"type":"character","attributes":{},"value":["DataViz Makeover 2 for ISSS608: Visual Analytics"]},{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","url"]}},"value":[{"type":"character","attributes":{},"value":["Stella Loh"]},{"type":"character","attributes":{},"value":["https://www.linkedin.com/in/stella-loh-308b72129/"]}]}]},{"type":"character","attributes":{},"value":["06-16-21"]},{"type":"character","attributes":{},"value":["dataviz_makeover","animation","bubble chart","trellis","line graph"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["distill::distill_article"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["toc","toc_float","toc_depth","self_contained"]}},"value":[{"type":"logical","attributes":{},"value":[true]},{"type":"logical","attributes":{},"value":[true]},{"type":"integer","attributes":{},"value":[2]},{"type":"logical","attributes":{},"value":[false]}]}]}]}
</script>
<!--/radix_placeholder_rmarkdown_metadata-->
  
  <script type="text/json" id="radix-resource-manifest">
  {"type":"character","attributes":{},"value":["dataviz-makeover2_files/anchor-4.2.2/anchor.min.js","dataviz-makeover2_files/bowser-1.9.3/bowser.min.js","dataviz-makeover2_files/distill-2.2.21/template.v2.js","dataviz-makeover2_files/header-attrs-2.8/header-attrs.js","dataviz-makeover2_files/jquery-1.11.3/jquery.min.js","dataviz-makeover2_files/popper-2.6.0/popper.min.js","dataviz-makeover2_files/tippy-6.2.7/tippy-bundle.umd.min.js","dataviz-makeover2_files/tippy-6.2.7/tippy-light-border.css","dataviz-makeover2_files/tippy-6.2.7/tippy.css","dataviz-makeover2_files/tippy-6.2.7/tippy.umd.min.js","dataviz-makeover2_files/webcomponents-2.0.0/webcomponents.js","Image/AddAnnotations.JPG","Image/AddLabels.JPG","Image/AddTrendLines.JPG","Image/AnimationSelection.JPG","Image/AnimationSelectionBubble.JPG","Image/AnimationSettings.JPG","Image/AutoConnect.JPG","Image/BubbleTooltip.JPG","Image/ChangeToBubble.JPG","Image/CleanStep.JPG","Image/CountryCalcField.JPG","Image/CountryToToolTip.JPG","Image/Createx-axis.JPG","Image/Createy-axis.JPG","Image/CurrentSetUp.JPG","Image/DashboardSize.JPG","Image/DashboardTitle.JPG","Image/DateToCol.JPG","Image/DatetoPages.JPG","Image/DatetoPagesBar.JPG","Image/DatetoPagesBubble.JPG","Image/DiagramJoinStep.jpg","Image/DiscreteFields.JPG","Image/EditHighlight.JPG","Image/EditLabelPane.JPG","Image/EditSize.JPG","Image/EditTableCalc.JPG","Image/ExportsAligned.jpg","Image/ExportsAlignedMarkscard.JPG","Image/ExportstoCol.JPG","Image/finalviz.jpg","Image/FitHeight.JPG","Image/FormatDP.JPG","Image/FormatDPBar.JPG","Image/FormatDPBubble.JPG","Image/FormatTitle.JPG","Image/FormatTrendLines.JPG","Image/HideColFieldHeader.JPG","Image/HideColFieldLabels.JPG","Image/HideDualAxisHeader.JPG","Image/HideHeader.JPG","Image/HideRowHeader.JPG","Image/ImportsAligned.jpg","Image/InitialViz.jpg","Image/JoinClauses.JPG","Image/MarksCardBar.JPG","Image/MarkscardColor.JPG","Image/MarkscardLabel.JPG","Image/MeasureValuesSlider.JPG","Image/MeasureValuesToCircle.JPG","Image/MeasureValuesTooltip.JPG","Image/NetExportPosition.JPG","Image/NetExportsImportsCalc.JPG","Image/NetImportPosition.JPG","Image/Obs1.JPG","Image/Obs2.JPG","Image/Obs3.JPG","Image/Obs4.JPG","Image/Obs5.JPG","Image/Obs6.JPG","Image/Obs7.JPG","Image/Obs8.JPG","Image/Obs9.JPG","Image/OutputSelections.JPG","Image/PivotSheets.jpg","Image/RankingCalc.JPG","Image/RankingTableCalc.JPG","Image/RegionDetail.JPG","Image/Rows.JPG","Image/SanitiseData.JPG","Image/SelectSheets.jpg","Image/Sketch.JPG","Image/SortExports.JPG","Image/SplitColumn.JPG","Image/SyncAxis.JPG","Image/ToolTipBar.JPG","Image/ToolTipNetExport.JPG","Image/TotalMerchTrade.JPG","Image/TotalMerchTradeSize.JPG","Image/TradeType.JPG","Image/TradeTypeBar.JPG","Image/TrimVariables.JPG","Image/UpdateColor.JPG","Image/UpdateLegend-animation.JPG","Image/UpdateLegend.JPG","Image/UpdateLegendBar-animation.JPG","Image/UpdateLegendDate.JPG","Image/UpdateLegendMerchTrade.JPG","Image/UpdateNetExportColors.JPG","Image/UpdateOpacity.JPG","Image/UpdateSize.JPG","Image/xGeneralPane.JPG","Image/xGeneralPaneBar.JPG","Image/xGeneralPaneBubble.JPG","Image/xTickMarksPane.JPG","Image/xTickMarksPaneBar.JPG","Image/xTickMarksPaneBubble.JPG","Image/yGeneralPane.JPG","Image/yGeneralPaneBubble.JPG","Image/yTickMarksPane.JPG","Image/yTickMarksPaneBubble.JPG"]}
  </script>
  <!--radix_placeholder_navigation_in_header-->
<meta name="distill:offset" content="../.."/>

<script type="application/javascript">

  window.headroom_prevent_pin = false;

  window.document.addEventListener("DOMContentLoaded", function (event) {

    // initialize headroom for banner
    var header = $('header').get(0);
    var headerHeight = header.offsetHeight;
    var headroom = new Headroom(header, {
      tolerance: 5,
      onPin : function() {
        if (window.headroom_prevent_pin) {
          window.headroom_prevent_pin = false;
          headroom.unpin();
        }
      }
    });
    headroom.init();
    if(window.location.hash)
      headroom.unpin();
    $(header).addClass('headroom--transition');

    // offset scroll location for banner on hash change
    // (see: https://github.com/WickyNilliams/headroom.js/issues/38)
    window.addEventListener("hashchange", function(event) {
      window.scrollTo(0, window.pageYOffset - (headerHeight + 25));
    });

    // responsive menu
    $('.distill-site-header').each(function(i, val) {
      var topnav = $(this);
      var toggle = topnav.find('.nav-toggle');
      toggle.on('click', function() {
        topnav.toggleClass('responsive');
      });
    });

    // nav dropdowns
    $('.nav-dropbtn').click(function(e) {
      $(this).next('.nav-dropdown-content').toggleClass('nav-dropdown-active');
      $(this).parent().siblings('.nav-dropdown')
         .children('.nav-dropdown-content').removeClass('nav-dropdown-active');
    });
    $("body").click(function(e){
      $('.nav-dropdown-content').removeClass('nav-dropdown-active');
    });
    $(".nav-dropdown").click(function(e){
      e.stopPropagation();
    });
  });
</script>

<style type="text/css">

/* Theme (user-documented overrideables for nav appearance) */

.distill-site-nav {
  color: rgba(255, 255, 255, 0.8);
  background-color: #0F2E3D;
  font-size: 15px;
  font-weight: 300;
}

.distill-site-nav a {
  color: inherit;
  text-decoration: none;
}

.distill-site-nav a:hover {
  color: white;
}

@media print {
  .distill-site-nav {
    display: none;
  }
}

.distill-site-header {

}

.distill-site-footer {

}


/* Site Header */

.distill-site-header {
  width: 100%;
  box-sizing: border-box;
  z-index: 3;
}

.distill-site-header .nav-left {
  display: inline-block;
  margin-left: 8px;
}

@media screen and (max-width: 768px) {
  .distill-site-header .nav-left {
    margin-left: 0;
  }
}


.distill-site-header .nav-right {
  float: right;
  margin-right: 8px;
}

.distill-site-header a,
.distill-site-header .title {
  display: inline-block;
  text-align: center;
  padding: 14px 10px 14px 10px;
}

.distill-site-header .title {
  font-size: 18px;
  min-width: 150px;
}

.distill-site-header .logo {
  padding: 0;
}

.distill-site-header .logo img {
  display: none;
  max-height: 20px;
  width: auto;
  margin-bottom: -4px;
}

.distill-site-header .nav-image img {
  max-height: 18px;
  width: auto;
  display: inline-block;
  margin-bottom: -3px;
}



@media screen and (min-width: 1000px) {
  .distill-site-header .logo img {
    display: inline-block;
  }
  .distill-site-header .nav-left {
    margin-left: 20px;
  }
  .distill-site-header .nav-right {
    margin-right: 20px;
  }
  .distill-site-header .title {
    padding-left: 12px;
  }
}


.distill-site-header .nav-toggle {
  display: none;
}

.nav-dropdown {
  display: inline-block;
  position: relative;
}

.nav-dropdown .nav-dropbtn {
  border: none;
  outline: none;
  color: rgba(255, 255, 255, 0.8);
  padding: 16px 10px;
  background-color: transparent;
  font-family: inherit;
  font-size: inherit;
  font-weight: inherit;
  margin: 0;
  margin-top: 1px;
  z-index: 2;
}

.nav-dropdown-content {
  display: none;
  position: absolute;
  background-color: white;
  min-width: 200px;
  border: 1px solid rgba(0,0,0,0.15);
  border-radius: 4px;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.1);
  z-index: 1;
  margin-top: 2px;
  white-space: nowrap;
  padding-top: 4px;
  padding-bottom: 4px;
}

.nav-dropdown-content hr {
  margin-top: 4px;
  margin-bottom: 4px;
  border: none;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.nav-dropdown-active {
  display: block;
}

.nav-dropdown-content a, .nav-dropdown-content .nav-dropdown-header {
  color: black;
  padding: 6px 24px;
  text-decoration: none;
  display: block;
  text-align: left;
}

.nav-dropdown-content .nav-dropdown-header {
  display: block;
  padding: 5px 24px;
  padding-bottom: 0;
  text-transform: uppercase;
  font-size: 14px;
  color: #999999;
  white-space: nowrap;
}

.nav-dropdown:hover .nav-dropbtn {
  color: white;
}

.nav-dropdown-content a:hover {
  background-color: #ddd;
  color: black;
}

.nav-right .nav-dropdown-content {
  margin-left: -45%;
  right: 0;
}

@media screen and (max-width: 768px) {
  .distill-site-header a, .distill-site-header .nav-dropdown  {display: none;}
  .distill-site-header a.nav-toggle {
    float: right;
    display: block;
  }
  .distill-site-header .title {
    margin-left: 0;
  }
  .distill-site-header .nav-right {
    margin-right: 0;
  }
  .distill-site-header {
    overflow: hidden;
  }
  .nav-right .nav-dropdown-content {
    margin-left: 0;
  }
}


@media screen and (max-width: 768px) {
  .distill-site-header.responsive {position: relative; min-height: 500px; }
  .distill-site-header.responsive a.nav-toggle {
    position: absolute;
    right: 0;
    top: 0;
  }
  .distill-site-header.responsive a,
  .distill-site-header.responsive .nav-dropdown {
    display: block;
    text-align: left;
  }
  .distill-site-header.responsive .nav-left,
  .distill-site-header.responsive .nav-right {
    width: 100%;
  }
  .distill-site-header.responsive .nav-dropdown {float: none;}
  .distill-site-header.responsive .nav-dropdown-content {position: relative;}
  .distill-site-header.responsive .nav-dropdown .nav-dropbtn {
    display: block;
    width: 100%;
    text-align: left;
  }
}

/* Site Footer */

.distill-site-footer {
  width: 100%;
  overflow: hidden;
  box-sizing: border-box;
  z-index: 3;
  margin-top: 30px;
  padding-top: 30px;
  padding-bottom: 30px;
  text-align: center;
}

/* Headroom */

d-title {
  padding-top: 6rem;
}

@media print {
  d-title {
    padding-top: 4rem;
  }
}

.headroom {
  z-index: 1000;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
}

.headroom--transition {
  transition: all .4s ease-in-out;
}

.headroom--unpinned {
  top: -100px;
}

.headroom--pinned {
  top: 0;
}

/* adjust viewport for navbar height */
/* helps vertically center bootstrap (non-distill) content */
.min-vh-100 {
  min-height: calc(100vh - 100px) !important;
}

</style>

<script src="../../site_libs/jquery-1.11.3/jquery.min.js"></script>
<link href="../../site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet"/>
<link href="../../site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet"/>
<script src="../../site_libs/headroom-0.9.4/headroom.min.js"></script>
<script src="../../site_libs/autocomplete-0.37.1/autocomplete.min.js"></script>
<script src="../../site_libs/fuse-6.4.1/fuse.min.js"></script>

<script type="application/javascript">

function getMeta(metaName) {
  var metas = document.getElementsByTagName('meta');
  for (let i = 0; i < metas.length; i++) {
    if (metas[i].getAttribute('name') === metaName) {
      return metas[i].getAttribute('content');
    }
  }
  return '';
}

function offsetURL(url) {
  var offset = getMeta('distill:offset');
  return offset ? offset + '/' + url : url;
}

function createFuseIndex() {

  // create fuse index
  var options = {
    keys: [
      { name: 'title', weight: 20 },
      { name: 'categories', weight: 15 },
      { name: 'description', weight: 10 },
      { name: 'contents', weight: 5 },
    ],
    ignoreLocation: true,
    threshold: 0
  };
  var fuse = new window.Fuse([], options);

  // fetch the main search.json
  return fetch(offsetURL('search.json'))
    .then(function(response) {
      if (response.status == 200) {
        return response.json().then(function(json) {
          // index main articles
          json.articles.forEach(function(article) {
            fuse.add(article);
          });
          // download collections and index their articles
          return Promise.all(json.collections.map(function(collection) {
            return fetch(offsetURL(collection)).then(function(response) {
              if (response.status === 200) {
                return response.json().then(function(articles) {
                  articles.forEach(function(article) {
                    fuse.add(article);
                  });
                })
              } else {
                return Promise.reject(
                  new Error('Unexpected status from search index request: ' +
                            response.status)
                );
              }
            });
          })).then(function() {
            return fuse;
          });
        });

      } else {
        return Promise.reject(
          new Error('Unexpected status from search index request: ' +
                      response.status)
        );
      }
    });
}

window.document.addEventListener("DOMContentLoaded", function (event) {

  // get search element (bail if we don't have one)
  var searchEl = window.document.getElementById('distill-search');
  if (!searchEl)
    return;

  createFuseIndex()
    .then(function(fuse) {

      // make search box visible
      searchEl.classList.remove('hidden');

      // initialize autocomplete
      var options = {
        autoselect: true,
        hint: false,
        minLength: 2,
      };
      window.autocomplete(searchEl, options, [{
        source: function(query, callback) {
          const searchOptions = {
            isCaseSensitive: false,
            shouldSort: true,
            minMatchCharLength: 2,
            limit: 10,
          };
          var results = fuse.search(query, searchOptions);
          callback(results
            .map(function(result) { return result.item; })
          );
        },
        templates: {
          suggestion: function(suggestion) {
            var img = suggestion.preview && Object.keys(suggestion.preview).length > 0
              ? `<img src="${offsetURL(suggestion.preview)}"</img>`
              : '';
            var html = `
              <div class="search-item">
                <h3>${suggestion.title}</h3>
                <div class="search-item-description">
                  ${suggestion.description || ''}
                </div>
                <div class="search-item-preview">
                  ${img}
                </div>
              </div>
            `;
            return html;
          }
        }
      }]).on('autocomplete:selected', function(event, suggestion) {
        window.location.href = offsetURL(suggestion.path);
      });
      // remove inline display style on autocompleter (we want to
      // manage responsive display via css)
      $('.algolia-autocomplete').css("display", "");
    })
    .catch(function(error) {
      console.log(error);
    });

});

</script>

<style type="text/css">

.nav-search {
  font-size: x-small;
}

/* Algolioa Autocomplete */

.algolia-autocomplete {
  display: inline-block;
  margin-left: 10px;
  vertical-align: sub;
  background-color: white;
  color: black;
  padding: 6px;
  padding-top: 8px;
  padding-bottom: 0;
  border-radius: 6px;
  border: 1px #0F2E3D solid;
  width: 180px;
}


@media screen and (max-width: 768px) {
  .distill-site-nav .algolia-autocomplete {
    display: none;
    visibility: hidden;
  }
  .distill-site-nav.responsive .algolia-autocomplete {
    display: inline-block;
    visibility: visible;
  }
  .distill-site-nav.responsive .algolia-autocomplete .aa-dropdown-menu {
    margin-left: 0;
    width: 400px;
    max-height: 400px;
  }
}

.algolia-autocomplete .aa-input, .algolia-autocomplete .aa-hint {
  width: 90%;
  outline: none;
  border: none;
}

.algolia-autocomplete .aa-hint {
  color: #999;
}
.algolia-autocomplete .aa-dropdown-menu {
  width: 550px;
  max-height: 70vh;
  overflow-x: visible;
  overflow-y: scroll;
  padding: 5px;
  margin-top: 3px;
  margin-left: -150px;
  background-color: #fff;
  border-radius: 5px;
  border: 1px solid #999;
  border-top: none;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion {
  cursor: pointer;
  padding: 5px 4px;
  border-bottom: 1px solid #eee;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion:last-of-type {
  border-bottom: none;
  margin-bottom: 2px;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item {
  overflow: hidden;
  font-size: 0.8em;
  line-height: 1.4em;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item h3 {
  font-size: 1rem;
  margin-block-start: 0;
  margin-block-end: 5px;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-description {
  display: inline-block;
  overflow: hidden;
  height: 2.8em;
  width: 80%;
  margin-right: 4%;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview {
  display: inline-block;
  width: 15%;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img {
  height: 3em;
  width: auto;
  display: none;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img[src] {
  display: initial;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion.aa-cursor {
  background-color: #eee;
}
.algolia-autocomplete .aa-dropdown-menu .aa-suggestion em {
  font-weight: bold;
  font-style: normal;
}

</style>


<!--/radix_placeholder_navigation_in_header-->
  <!--radix_placeholder_distill-->

<style type="text/css">

body {
  background-color: white;
}

.pandoc-table {
  width: 100%;
}

.pandoc-table>caption {
  margin-bottom: 10px;
}

.pandoc-table th:not([align]) {
  text-align: left;
}

.pagedtable-footer {
  font-size: 15px;
}

d-byline .byline {
  grid-template-columns: 2fr 2fr;
}

d-byline .byline h3 {
  margin-block-start: 1.5em;
}

d-byline .byline .authors-affiliations h3 {
  margin-block-start: 0.5em;
}

.authors-affiliations .orcid-id {
  width: 16px;
  height:16px;
  margin-left: 4px;
  margin-right: 4px;
  vertical-align: middle;
  padding-bottom: 2px;
}

d-title .dt-tags {
  margin-top: 1em;
  grid-column: text;
}

.dt-tags .dt-tag {
  text-decoration: none;
  display: inline-block;
  color: rgba(0,0,0,0.6);
  padding: 0em 0.4em;
  margin-right: 0.5em;
  margin-bottom: 0.4em;
  font-size: 70%;
  border: 1px solid rgba(0,0,0,0.2);
  border-radius: 3px;
  text-transform: uppercase;
  font-weight: 500;
}

d-article table.gt_table td,
d-article table.gt_table th {
  border-bottom: none;
}

.html-widget {
  margin-bottom: 2.0em;
}

.l-screen-inset {
  padding-right: 16px;
}

.l-screen .caption {
  margin-left: 10px;
}

.shaded {
  background: rgb(247, 247, 247);
  padding-top: 20px;
  padding-bottom: 20px;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.shaded .html-widget {
  margin-bottom: 0;
  border: 1px solid rgba(0, 0, 0, 0.1);
}

.shaded .shaded-content {
  background: white;
}

.text-output {
  margin-top: 0;
  line-height: 1.5em;
}

.hidden {
  display: none !important;
}

d-article {
  padding-top: 2.5rem;
  padding-bottom: 30px;
}

d-appendix {
  padding-top: 30px;
}

d-article>p>img {
  width: 100%;
}

d-article h2 {
  margin: 1rem 0 1.5rem 0;
}

d-article h3 {
  margin-top: 1.5rem;
}

d-article iframe {
  border: 1px solid rgba(0, 0, 0, 0.1);
  margin-bottom: 2.0em;
  width: 100%;
}

/* Tweak code blocks */

d-article div.sourceCode code,
d-article pre code {
  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
}

d-article pre,
d-article div.sourceCode,
d-article div.sourceCode pre {
  overflow: auto;
}

d-article div.sourceCode {
  background-color: white;
}

d-article div.sourceCode pre {
  padding-left: 10px;
  font-size: 12px;
  border-left: 2px solid rgba(0,0,0,0.1);
}

d-article pre {
  font-size: 12px;
  color: black;
  background: none;
  margin-top: 0;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.5;

  -moz-tab-size: 4;
  -o-tab-size: 4;
  tab-size: 4;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

d-article pre a {
  border-bottom: none;
}

d-article pre a:hover {
  border-bottom: none;
  text-decoration: underline;
}

d-article details {
  grid-column: text;
  margin-bottom: 0.8em;
}

@media(min-width: 768px) {

d-article pre,
d-article div.sourceCode,
d-article div.sourceCode pre {
  overflow: visible !important;
}

d-article div.sourceCode pre {
  padding-left: 18px;
  font-size: 14px;
}

d-article pre {
  font-size: 14px;
}

}

figure img.external {
  background: white;
  border: 1px solid rgba(0, 0, 0, 0.1);
  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
  padding: 18px;
  box-sizing: border-box;
}

/* CSS for d-contents */

.d-contents {
  grid-column: text;
  color: rgba(0,0,0,0.8);
  font-size: 0.9em;
  padding-bottom: 1em;
  margin-bottom: 1em;
  padding-bottom: 0.5em;
  margin-bottom: 1em;
  padding-left: 0.25em;
  justify-self: start;
}

@media(min-width: 1000px) {
  .d-contents.d-contents-float {
    height: 0;
    grid-column-start: 1;
    grid-column-end: 4;
    justify-self: center;
    padding-right: 3em;
    padding-left: 2em;
  }
}

.d-contents nav h3 {
  font-size: 18px;
  margin-top: 0;
  margin-bottom: 1em;
}

.d-contents li {
  list-style-type: none
}

.d-contents nav > ul {
  padding-left: 0;
}

.d-contents ul {
  padding-left: 1em
}

.d-contents nav ul li {
  margin-top: 0.6em;
  margin-bottom: 0.2em;
}

.d-contents nav a {
  font-size: 13px;
  border-bottom: none;
  text-decoration: none
  color: rgba(0, 0, 0, 0.8);
}

.d-contents nav a:hover {
  text-decoration: underline solid rgba(0, 0, 0, 0.6)
}

.d-contents nav > ul > li > a {
  font-weight: 600;
}

.d-contents nav > ul > li > ul {
  font-weight: inherit;
}

.d-contents nav > ul > li > ul > li {
  margin-top: 0.2em;
}


.d-contents nav ul {
  margin-top: 0;
  margin-bottom: 0.25em;
}

.d-article-with-toc h2:nth-child(2) {
  margin-top: 0;
}


/* Figure */

.figure {
  position: relative;
  margin-bottom: 2.5em;
  margin-top: 1.5em;
}

.figure img {
  width: 100%;
}

.figure .caption {
  color: rgba(0, 0, 0, 0.6);
  font-size: 12px;
  line-height: 1.5em;
}

.figure img.external {
  background: white;
  border: 1px solid rgba(0, 0, 0, 0.1);
  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
  padding: 18px;
  box-sizing: border-box;
}

.figure .caption a {
  color: rgba(0, 0, 0, 0.6);
}

.figure .caption b,
.figure .caption strong, {
  font-weight: 600;
  color: rgba(0, 0, 0, 1.0);
}

/* Citations */

d-article .citation {
  color: inherit;
  cursor: inherit;
}

div.hanging-indent{
  margin-left: 1em; text-indent: -1em;
}

/* Citation hover box */

.tippy-box[data-theme~=light-border] {
  background-color: rgba(250, 250, 250, 0.95);
}

.tippy-content > p {
  margin-bottom: 0;
  padding: 2px;
}


/* Tweak 1000px media break to show more text */

@media(min-width: 1000px) {
  .base-grid,
  distill-header,
  d-title,
  d-abstract,
  d-article,
  d-appendix,
  distill-appendix,
  d-byline,
  d-footnote-list,
  d-citation-list,
  distill-footer {
    grid-template-columns: [screen-start] 1fr [page-start kicker-start] 80px [middle-start] 50px [text-start kicker-end] 65px 65px 65px 65px 65px 65px 65px 65px [text-end gutter-start] 65px [middle-end] 65px [page-end gutter-end] 1fr [screen-end];
    grid-column-gap: 16px;
  }

  .grid {
    grid-column-gap: 16px;
  }

  d-article {
    font-size: 1.06rem;
    line-height: 1.7em;
  }
  figure .caption, .figure .caption, figure figcaption {
    font-size: 13px;
  }
}

@media(min-width: 1180px) {
  .base-grid,
  distill-header,
  d-title,
  d-abstract,
  d-article,
  d-appendix,
  distill-appendix,
  d-byline,
  d-footnote-list,
  d-citation-list,
  distill-footer {
    grid-template-columns: [screen-start] 1fr [page-start kicker-start] 60px [middle-start] 60px [text-start kicker-end] 60px 60px 60px 60px 60px 60px 60px 60px [text-end gutter-start] 60px [middle-end] 60px [page-end gutter-end] 1fr [screen-end];
    grid-column-gap: 32px;
  }

  .grid {
    grid-column-gap: 32px;
  }
}


/* Get the citation styles for the appendix (not auto-injected on render since
   we do our own rendering of the citation appendix) */

d-appendix .citation-appendix,
.d-appendix .citation-appendix {
  font-size: 11px;
  line-height: 15px;
  border-left: 1px solid rgba(0, 0, 0, 0.1);
  padding-left: 18px;
  border: 1px solid rgba(0,0,0,0.1);
  background: rgba(0, 0, 0, 0.02);
  padding: 10px 18px;
  border-radius: 3px;
  color: rgba(150, 150, 150, 1);
  overflow: hidden;
  margin-top: -12px;
  white-space: pre-wrap;
  word-wrap: break-word;
}

/* Include appendix styles here so they can be overridden */

d-appendix {
  contain: layout style;
  font-size: 0.8em;
  line-height: 1.7em;
  margin-top: 60px;
  margin-bottom: 0;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  color: rgba(0,0,0,0.5);
  padding-top: 60px;
  padding-bottom: 48px;
}

d-appendix h3 {
  grid-column: page-start / text-start;
  font-size: 15px;
  font-weight: 500;
  margin-top: 1em;
  margin-bottom: 0;
  color: rgba(0,0,0,0.65);
}

d-appendix h3 + * {
  margin-top: 1em;
}

d-appendix ol {
  padding: 0 0 0 15px;
}

@media (min-width: 768px) {
  d-appendix ol {
    padding: 0 0 0 30px;
    margin-left: -30px;
  }
}

d-appendix li {
  margin-bottom: 1em;
}

d-appendix a {
  color: rgba(0, 0, 0, 0.6);
}

d-appendix > * {
  grid-column: text;
}

d-appendix > d-footnote-list,
d-appendix > d-citation-list,
d-appendix > distill-appendix {
  grid-column: screen;
}

/* Include footnote styles here so they can be overridden */

d-footnote-list {
  contain: layout style;
}

d-footnote-list > * {
  grid-column: text;
}

d-footnote-list a.footnote-backlink {
  color: rgba(0,0,0,0.3);
  padding-left: 0.5em;
}



/* Anchor.js */

.anchorjs-link {
  /*transition: all .25s linear; */
  text-decoration: none;
  border-bottom: none;
}
*:hover > .anchorjs-link {
  margin-left: -1.125em !important;
  text-decoration: none;
  border-bottom: none;
}

/* Social footer */

.social_footer {
  margin-top: 30px;
  margin-bottom: 0;
  color: rgba(0,0,0,0.67);
}

.disqus-comments {
  margin-right: 30px;
}

.disqus-comment-count {
  border-bottom: 1px solid rgba(0, 0, 0, 0.4);
  cursor: pointer;
}

#disqus_thread {
  margin-top: 30px;
}

.article-sharing a {
  border-bottom: none;
  margin-right: 8px;
}

.article-sharing a:hover {
  border-bottom: none;
}

.sidebar-section.subscribe {
  font-size: 12px;
  line-height: 1.6em;
}

.subscribe p {
  margin-bottom: 0.5em;
}


.article-footer .subscribe {
  font-size: 15px;
  margin-top: 45px;
}


.sidebar-section.custom {
  font-size: 12px;
  line-height: 1.6em;
}

.custom p {
  margin-bottom: 0.5em;
}

/* Styles for listing layout (hide title) */
.layout-listing d-title, .layout-listing .d-title {
  display: none;
}

/* Styles for posts lists (not auto-injected) */


.posts-with-sidebar {
  padding-left: 45px;
  padding-right: 45px;
}

.posts-list .description h2,
.posts-list .description p {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
}

.posts-list .description h2 {
  font-weight: 700;
  border-bottom: none;
  padding-bottom: 0;
}

.posts-list h2.post-tag {
  border-bottom: 1px solid rgba(0, 0, 0, 0.2);
  padding-bottom: 12px;
}
.posts-list {
  margin-top: 60px;
  margin-bottom: 24px;
}

.posts-list .post-preview {
  text-decoration: none;
  overflow: hidden;
  display: block;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  padding: 24px 0;
}

.post-preview-last {
  border-bottom: none !important;
}

.posts-list .posts-list-caption {
  grid-column: screen;
  font-weight: 400;
}

.posts-list .post-preview h2 {
  margin: 0 0 6px 0;
  line-height: 1.2em;
  font-style: normal;
  font-size: 24px;
}

.posts-list .post-preview p {
  margin: 0 0 12px 0;
  line-height: 1.4em;
  font-size: 16px;
}

.posts-list .post-preview .thumbnail {
  box-sizing: border-box;
  margin-bottom: 24px;
  position: relative;
  max-width: 500px;
}
.posts-list .post-preview img {
  width: 100%;
  display: block;
}

.posts-list .metadata {
  font-size: 12px;
  line-height: 1.4em;
  margin-bottom: 18px;
}

.posts-list .metadata > * {
  display: inline-block;
}

.posts-list .metadata .publishedDate {
  margin-right: 2em;
}

.posts-list .metadata .dt-authors {
  display: block;
  margin-top: 0.3em;
  margin-right: 2em;
}

.posts-list .dt-tags {
  display: block;
  line-height: 1em;
}

.posts-list .dt-tags .dt-tag {
  display: inline-block;
  color: rgba(0,0,0,0.6);
  padding: 0.3em 0.4em;
  margin-right: 0.2em;
  margin-bottom: 0.4em;
  font-size: 60%;
  border: 1px solid rgba(0,0,0,0.2);
  border-radius: 3px;
  text-transform: uppercase;
  font-weight: 500;
}

.posts-list img {
  opacity: 1;
}

.posts-list img[data-src] {
  opacity: 0;
}

.posts-more {
  clear: both;
}


.posts-sidebar {
  font-size: 16px;
}

.posts-sidebar h3 {
  font-size: 16px;
  margin-top: 0;
  margin-bottom: 0.5em;
  font-weight: 400;
  text-transform: uppercase;
}

.sidebar-section {
  margin-bottom: 30px;
}

.categories ul {
  list-style-type: none;
  margin: 0;
  padding: 0;
}

.categories li {
  color: rgba(0, 0, 0, 0.8);
  margin-bottom: 0;
}

.categories li>a {
  border-bottom: none;
}

.categories li>a:hover {
  border-bottom: 1px solid rgba(0, 0, 0, 0.4);
}

.categories .active {
  font-weight: 600;
}

.categories .category-count {
  color: rgba(0, 0, 0, 0.4);
}


@media(min-width: 768px) {
  .posts-list .post-preview h2 {
    font-size: 26px;
  }
  .posts-list .post-preview .thumbnail {
    float: right;
    width: 30%;
    margin-bottom: 0;
  }
  .posts-list .post-preview .description {
    float: left;
    width: 45%;
  }
  .posts-list .post-preview .metadata {
    float: left;
    width: 20%;
    margin-top: 8px;
  }
  .posts-list .post-preview p {
    margin: 0 0 12px 0;
    line-height: 1.5em;
    font-size: 16px;
  }
  .posts-with-sidebar .posts-list {
    float: left;
    width: 75%;
  }
  .posts-with-sidebar .posts-sidebar {
    float: right;
    width: 20%;
    margin-top: 60px;
    padding-top: 24px;
    padding-bottom: 24px;
  }
}


/* Improve display for browsers without grid (IE/Edge <= 15) */

.downlevel {
  line-height: 1.6em;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  margin: 0;
}

.downlevel .d-title {
  padding-top: 6rem;
  padding-bottom: 1.5rem;
}

.downlevel .d-title h1 {
  font-size: 50px;
  font-weight: 700;
  line-height: 1.1em;
  margin: 0 0 0.5rem;
}

.downlevel .d-title p {
  font-weight: 300;
  font-size: 1.2rem;
  line-height: 1.55em;
  margin-top: 0;
}

.downlevel .d-byline {
  padding-top: 0.8em;
  padding-bottom: 0.8em;
  font-size: 0.8rem;
  line-height: 1.8em;
}

.downlevel .section-separator {
  border: none;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
}

.downlevel .d-article {
  font-size: 1.06rem;
  line-height: 1.7em;
  padding-top: 1rem;
  padding-bottom: 2rem;
}


.downlevel .d-appendix {
  padding-left: 0;
  padding-right: 0;
  max-width: none;
  font-size: 0.8em;
  line-height: 1.7em;
  margin-bottom: 0;
  color: rgba(0,0,0,0.5);
  padding-top: 40px;
  padding-bottom: 48px;
}

.downlevel .footnotes ol {
  padding-left: 13px;
}

.downlevel .base-grid,
.downlevel .distill-header,
.downlevel .d-title,
.downlevel .d-abstract,
.downlevel .d-article,
.downlevel .d-appendix,
.downlevel .distill-appendix,
.downlevel .d-byline,
.downlevel .d-footnote-list,
.downlevel .d-citation-list,
.downlevel .distill-footer,
.downlevel .appendix-bottom,
.downlevel .posts-container {
  padding-left: 40px;
  padding-right: 40px;
}

@media(min-width: 768px) {
  .downlevel .base-grid,
  .downlevel .distill-header,
  .downlevel .d-title,
  .downlevel .d-abstract,
  .downlevel .d-article,
  .downlevel .d-appendix,
  .downlevel .distill-appendix,
  .downlevel .d-byline,
  .downlevel .d-footnote-list,
  .downlevel .d-citation-list,
  .downlevel .distill-footer,
  .downlevel .appendix-bottom,
  .downlevel .posts-container {
  padding-left: 150px;
  padding-right: 150px;
  max-width: 900px;
}
}

.downlevel pre code {
  display: block;
  border-left: 2px solid rgba(0, 0, 0, .1);
  padding: 0 0 0 20px;
  font-size: 14px;
}

.downlevel code, .downlevel pre {
  color: black;
  background: none;
  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.5;

  -moz-tab-size: 4;
  -o-tab-size: 4;
  tab-size: 4;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

.downlevel .posts-list .post-preview {
  color: inherit;
}



</style>

<script type="application/javascript">

function is_downlevel_browser() {
  if (bowser.isUnsupportedBrowser({ msie: "12", msedge: "16"},
                                 window.navigator.userAgent)) {
    return true;
  } else {
    return window.load_distill_framework === undefined;
  }
}

// show body when load is complete
function on_load_complete() {

  // add anchors
  if (window.anchors) {
    window.anchors.options.placement = 'left';
    window.anchors.add('d-article > h2, d-article > h3, d-article > h4, d-article > h5');
  }


  // set body to visible
  document.body.style.visibility = 'visible';

  // force redraw for leaflet widgets
  if (window.HTMLWidgets) {
    var maps = window.HTMLWidgets.findAll(".leaflet");
    $.each(maps, function(i, el) {
      var map = this.getMap();
      map.invalidateSize();
      map.eachLayer(function(layer) {
        if (layer instanceof L.TileLayer)
          layer.redraw();
      });
    });
  }

  // trigger 'shown' so htmlwidgets resize
  $('d-article').trigger('shown');
}

function init_distill() {

  init_common();

  // create front matter
  var front_matter = $('<d-front-matter></d-front-matter>');
  $('#distill-front-matter').wrap(front_matter);

  // create d-title
  $('.d-title').changeElementType('d-title');

  // create d-byline
  var byline = $('<d-byline></d-byline>');
  $('.d-byline').replaceWith(byline);

  // create d-article
  var article = $('<d-article></d-article>');
  $('.d-article').wrap(article).children().unwrap();

  // move posts container into article
  $('.posts-container').appendTo($('d-article'));

  // create d-appendix
  $('.d-appendix').changeElementType('d-appendix');

  // flag indicating that we have appendix items
  var appendix = $('.appendix-bottom').children('h3').length > 0;

  // replace footnotes with <d-footnote>
  $('.footnote-ref').each(function(i, val) {
    appendix = true;
    var href = $(this).attr('href');
    var id = href.replace('#', '');
    var fn = $('#' + id);
    var fn_p = $('#' + id + '>p');
    fn_p.find('.footnote-back').remove();
    var text = fn_p.html();
    var dtfn = $('<d-footnote></d-footnote>');
    dtfn.html(text);
    $(this).replaceWith(dtfn);
  });
  // remove footnotes
  $('.footnotes').remove();

  // move refs into #references-listing
  $('#references-listing').replaceWith($('#refs'));

  $('h1.appendix, h2.appendix').each(function(i, val) {
    $(this).changeElementType('h3');
  });
  $('h3.appendix').each(function(i, val) {
    var id = $(this).attr('id');
    $('.d-contents a[href="#' + id + '"]').parent().remove();
    appendix = true;
    $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('d-appendix'));
  });

  // show d-appendix if we have appendix content
  $("d-appendix").css('display', appendix ? 'grid' : 'none');

  // localize layout chunks to just output
  $('.layout-chunk').each(function(i, val) {

    // capture layout
    var layout = $(this).attr('data-layout');

    // apply layout to markdown level block elements
    var elements = $(this).children().not('details, div.sourceCode, pre, script');
    elements.each(function(i, el) {
      var layout_div = $('<div class="' + layout + '"></div>');
      if (layout_div.hasClass('shaded')) {
        var shaded_content = $('<div class="shaded-content"></div>');
        $(this).wrap(shaded_content);
        $(this).parent().wrap(layout_div);
      } else {
        $(this).wrap(layout_div);
      }
    });


    // unwrap the layout-chunk div
    $(this).children().unwrap();
  });

  // remove code block used to force  highlighting css
  $('.distill-force-highlighting-css').parent().remove();

  // remove empty line numbers inserted by pandoc when using a
  // custom syntax highlighting theme
  $('code.sourceCode a:empty').remove();

  // load distill framework
  load_distill_framework();

  // wait for window.distillRunlevel == 4 to do post processing
  function distill_post_process() {

    if (!window.distillRunlevel || window.distillRunlevel < 4)
      return;

    // hide author/affiliations entirely if we have no authors
    var front_matter = JSON.parse($("#distill-front-matter").html());
    var have_authors = front_matter.authors && front_matter.authors.length > 0;
    if (!have_authors)
      $('d-byline').addClass('hidden');

    // article with toc class
    $('.d-contents').parent().addClass('d-article-with-toc');

    // strip links that point to #
    $('.authors-affiliations').find('a[href="#"]').removeAttr('href');

    // add orcid ids
    $('.authors-affiliations').find('.author').each(function(i, el) {
      var orcid_id = front_matter.authors[i].orcidID;
      if (orcid_id) {
        var a = $('<a></a>');
        a.attr('href', 'https://orcid.org/' + orcid_id);
        var img = $('<img></img>');
        img.addClass('orcid-id');
        img.attr('alt', 'ORCID ID');
        img.attr('src','data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg==');
        a.append(img);
        $(this).append(a);
      }
    });

    // hide elements of author/affiliations grid that have no value
    function hide_byline_column(caption) {
      $('d-byline').find('h3:contains("' + caption + '")').parent().css('visibility', 'hidden');
    }

    // affiliations
    var have_affiliations = false;
    for (var i = 0; i<front_matter.authors.length; ++i) {
      var author = front_matter.authors[i];
      if (author.affiliation !== "&nbsp;") {
        have_affiliations = true;
        break;
      }
    }
    if (!have_affiliations)
      $('d-byline').find('h3:contains("Affiliations")').css('visibility', 'hidden');

    // published date
    if (!front_matter.publishedDate)
      hide_byline_column("Published");

    // document object identifier
    var doi = $('d-byline').find('h3:contains("DOI")');
    var doi_p = doi.next().empty();
    if (!front_matter.doi) {
      // if we have a citation and valid citationText then link to that
      if ($('#citation').length > 0 && front_matter.citationText) {
        doi.html('Citation');
        $('<a href="#citation"></a>')
          .text(front_matter.citationText)
          .appendTo(doi_p);
      } else {
        hide_byline_column("DOI");
      }
    } else {
      $('<a></a>')
         .attr('href', "https://doi.org/" + front_matter.doi)
         .html(front_matter.doi)
         .appendTo(doi_p);
    }

     // change plural form of authors/affiliations
    if (front_matter.authors.length === 1) {
      var grid = $('.authors-affiliations');
      grid.children('h3:contains("Authors")').text('Author');
      grid.children('h3:contains("Affiliations")').text('Affiliation');
    }

    // remove d-appendix and d-footnote-list local styles
    $('d-appendix > style:first-child').remove();
    $('d-footnote-list > style:first-child').remove();

    // move appendix-bottom entries to the bottom
    $('.appendix-bottom').appendTo('d-appendix').children().unwrap();
    $('.appendix-bottom').remove();

    // hoverable references
    $('span.citation[data-cites]').each(function() {
      var refHtml = $('#ref-' + $(this).attr('data-cites')).html();
      window.tippy(this, {
        allowHTML: true,
        content: refHtml,
        maxWidth: 500,
        interactive: true,
        interactiveBorder: 10,
        theme: 'light-border',
        placement: 'bottom-start'
      });
    });

    // clear polling timer
    clearInterval(tid);

    // show body now that everything is ready
    on_load_complete();
  }

  var tid = setInterval(distill_post_process, 50);
  distill_post_process();

}

function init_downlevel() {

  init_common();

   // insert hr after d-title
  $('.d-title').after($('<hr class="section-separator"/>'));

  // check if we have authors
  var front_matter = JSON.parse($("#distill-front-matter").html());
  var have_authors = front_matter.authors && front_matter.authors.length > 0;

  // manage byline/border
  if (!have_authors)
    $('.d-byline').remove();
  $('.d-byline').after($('<hr class="section-separator"/>'));
  $('.d-byline a').remove();

  // remove toc
  $('.d-contents').remove();

  // move appendix elements
  $('h1.appendix, h2.appendix').each(function(i, val) {
    $(this).changeElementType('h3');
  });
  $('h3.appendix').each(function(i, val) {
    $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('.d-appendix'));
  });


  // inject headers into references and footnotes
  var refs_header = $('<h3></h3>');
  refs_header.text('References');
  $('#refs').prepend(refs_header);

  var footnotes_header = $('<h3></h3');
  footnotes_header.text('Footnotes');
  $('.footnotes').children('hr').first().replaceWith(footnotes_header);

  // move appendix-bottom entries to the bottom
  $('.appendix-bottom').appendTo('.d-appendix').children().unwrap();
  $('.appendix-bottom').remove();

  // remove appendix if it's empty
  if ($('.d-appendix').children().length === 0)
    $('.d-appendix').remove();

  // prepend separator above appendix
  $('.d-appendix').before($('<hr class="section-separator" style="clear: both"/>'));

  // trim code
  $('pre>code').each(function(i, val) {
    $(this).html($.trim($(this).html()));
  });

  // move posts-container right before article
  $('.posts-container').insertBefore($('.d-article'));

  $('body').addClass('downlevel');

  on_load_complete();
}


function init_common() {

  // jquery plugin to change element types
  (function($) {
    $.fn.changeElementType = function(newType) {
      var attrs = {};

      $.each(this[0].attributes, function(idx, attr) {
        attrs[attr.nodeName] = attr.nodeValue;
      });

      this.replaceWith(function() {
        return $("<" + newType + "/>", attrs).append($(this).contents());
      });
    };
  })(jQuery);

  // prevent underline for linked images
  $('a > img').parent().css({'border-bottom' : 'none'});

  // mark non-body figures created by knitr chunks as 100% width
  $('.layout-chunk').each(function(i, val) {
    var figures = $(this).find('img, .html-widget');
    if ($(this).attr('data-layout') !== "l-body") {
      figures.css('width', '100%');
    } else {
      figures.css('max-width', '100%');
      figures.filter("[width]").each(function(i, val) {
        var fig = $(this);
        fig.css('width', fig.attr('width') + 'px');
      });

    }
  });

  // auto-append index.html to post-preview links in file: protocol
  // and in rstudio ide preview
  $('.post-preview').each(function(i, val) {
    if (window.location.protocol === "file:")
      $(this).attr('href', $(this).attr('href') + "index.html");
  });

  // get rid of index.html references in header
  if (window.location.protocol !== "file:") {
    $('.distill-site-header a[href]').each(function(i,val) {
      $(this).attr('href', $(this).attr('href').replace("index.html", "./"));
    });
  }

  // add class to pandoc style tables
  $('tr.header').parent('thead').parent('table').addClass('pandoc-table');
  $('.kable-table').children('table').addClass('pandoc-table');

  // add figcaption style to table captions
  $('caption').parent('table').addClass("figcaption");

  // initialize posts list
  if (window.init_posts_list)
    window.init_posts_list();

  // implmement disqus comment link
  $('.disqus-comment-count').click(function() {
    window.headroom_prevent_pin = true;
    $('#disqus_thread').toggleClass('hidden');
    if (!$('#disqus_thread').hasClass('hidden')) {
      var offset = $(this).offset();
      $(window).resize();
      $('html, body').animate({
        scrollTop: offset.top - 35
      });
    }
  });
}

document.addEventListener('DOMContentLoaded', function() {
  if (is_downlevel_browser())
    init_downlevel();
  else
    window.addEventListener('WebComponentsReady', init_distill);
});

</script>

<!--/radix_placeholder_distill-->
  <script src="../../site_libs/header-attrs-2.8/header-attrs.js"></script>
  <script src="../../site_libs/jquery-1.11.3/jquery.min.js"></script>
  <script src="../../site_libs/popper-2.6.0/popper.min.js"></script>
  <link href="../../site_libs/tippy-6.2.7/tippy.css" rel="stylesheet" />
  <link href="../../site_libs/tippy-6.2.7/tippy-light-border.css" rel="stylesheet" />
  <script src="../../site_libs/tippy-6.2.7/tippy.umd.min.js"></script>
  <script src="../../site_libs/anchor-4.2.2/anchor.min.js"></script>
  <script src="../../site_libs/bowser-1.9.3/bowser.min.js"></script>
  <script src="../../site_libs/webcomponents-2.0.0/webcomponents.js"></script>
  <script src="../../site_libs/distill-2.2.21/template.v2.js"></script>
  <!--radix_placeholder_site_in_header-->
<!--/radix_placeholder_site_in_header-->


</head>

<body>

<!--radix_placeholder_front_matter-->

<script id="distill-front-matter" type="text/json">
{"title":"DataViz Makeover 2","description":"DataViz Makeover 2 for ISSS608: Visual Analytics","authors":[{"author":"Stella Loh","authorURL":"https://www.linkedin.com/in/stella-loh-308b72129/","affiliation":"&nbsp;","affiliationURL":"#","orcidID":""}],"publishedDate":"2021-06-16T00:00:00.000+08:00","citationText":"Loh, 2021"}
</script>

<!--/radix_placeholder_front_matter-->
<!--radix_placeholder_navigation_before_body-->
<header class="header header--fixed" role="banner">
<nav class="distill-site-nav distill-site-header">
<div class="nav-left">
<a href="../../index.html" class="title">Stella's Analytics Blog</a>
<input id="distill-search" class="nav-search hidden" type="text" placeholder="Search..."/>
</div>
<div class="nav-right">
<a href="../../index.html">Home</a>
<a href="../../about.html">About</a>
<a href="javascript:void(0);" class="nav-toggle">&#9776;</a>
</div>
</nav>
</header>
<!--/radix_placeholder_navigation_before_body-->
<!--radix_placeholder_site_before_body-->
<!--/radix_placeholder_site_before_body-->

<div class="d-title">
<h1>DataViz Makeover 2</h1>
<!--radix_placeholder_categories-->
<div class="dt-tags">
  <a href="../../index.html#category:dataviz_makeover" class="dt-tag">dataviz_makeover</a>
  <a href="../../index.html#category:animation" class="dt-tag">animation</a>
  <a href="../../index.html#category:bubble_chart" class="dt-tag">bubble chart</a>
  <a href="../../index.html#category:trellis" class="dt-tag">trellis</a>
  <a href="../../index.html#category:line_graph" class="dt-tag">line graph</a>
</div>
<!--/radix_placeholder_categories-->
<p><p>DataViz Makeover 2 for ISSS608: Visual Analytics</p></p>
</div>

<div class="d-byline">
  Stella Loh <a href="https://www.linkedin.com/in/stella-loh-308b72129/" class="uri">https://www.linkedin.com/in/stella-loh-308b72129/</a> 
  
<br/>06-16-21
</div>

<div class="d-article">
<div class="d-contents d-contents-float">
<nav class="l-text toc figcaption" id="TOC">
<h3>Contents</h3>
<ul>
<li><a href="#original-visualisation">1. Original Visualisation</a></li>
<li><a href="#critiques">2. Critiques</a></li>
<li><a href="#proposed-design">3. Proposed Design</a></li>
<li><a href="#final-visualisation">4. Final Visualisation</a></li>
<li><a href="#data-visualisation-steps">5. Data Visualisation Steps</a></li>
<li><a href="#observations">6. Observations</a></li>
</ul>
</nav>
</div>
<style>

body{
  background-color: #F5F5F5;
}
</style>
<h1 id="original-visualisation">1. Original Visualisation</h1>
<figure>
<img src="Image/InitialViz.jpg" style="width:75.0%" alt="Figure 1: Original visualisation" /><figcaption aria-hidden="true">Figure 1: Original visualisation</figcaption>
</figure>
<h3 id="data-source">Data Source</h3>
<p>The data visualization above is created by using data provided by Department of Statistics, Singapore (DOS).</p>
<h1 id="critiques">2. Critiques</h1>
<h3 id="clarity">2.1 Clarity</h3>
<ol type="i">
<li><p><strong>No title</strong> provided at the top for reader to understand the main idea of the visualization.</p></li>
<li><p><strong>Chart did not indicate which period range</strong> the figures are derived from, even though under the I note, there was mention of years 2006 and 2009.</p></li>
<li><p><strong>Poor placement of commentary</strong>- The I section acts as a commentary to provide users on the context of the chart and what it is trying to show and hence placement should be below the title and before the main visualization so that the user will read this section first before looking at the chart. In this case, the user will only see this commentary after seeing the main visualization.</p></li>
<li><p>In this case, chart is a static chart hence user is unable to see the trending of exports, imports and net exports/ imports. There is no indication of which year this chart is representing, as well as historical information to show when Singapores trade with China and US has become net exporter and net importer respectively. Hence we are <strong>unable to align what we have read in the I section with what is shown in the graph.</strong></p></li>
<li><p>The data source has a note included which <strong>lists the countries which are included under the EU category</strong>. This was not included as a note in the chart for the users clarity.</p></li>
<li><p><strong>Labeling of the axis is not clear.</strong> Export label is written underneath the y-axis (which represents imports) and Import label is written to the left of the x-axis (which represents exports).</p></li>
<li><p><strong>Chart did not specify what the labels are referring to</strong>- if they are referring to exports/ imports or total merchandise trade.</p></li>
<li><p><strong>Chart uses a note (instead of a legend) at the bottom to indicate that size of the bubbles is indicative of total merchandise trade value with the trading partner</strong>. This makes it less intuitive as the user is not able to decipher that at first glance and hence has to read on to understand what the size of the bubble represents.</p></li>
</ol>
<h3 id="aesthetics">2.2 Aesthetics</h3>
<ol type="i">
<li><p><strong>Axis does not contain information on what currency this is measured in</strong> and must be read off the labels. This can be included in the axis information.</p></li>
<li><p>Chart uses labels instead of legends to show which color is representative of each region. However, due to the size of each different colored circle and the addition of labels, the <strong>chart looks cluttered</strong>.</p></li>
<li><p><strong>The labels overlap other marks.</strong> For example, the label for United States is blocking the user from seeing the center point of the Taiwan bubble and the Europe label also overlaps with the Malaysia bubble.</p></li>
<li><p><strong>Size of the bubbles are too big and opacity is not adjusted for overlaps</strong> and hence creates overlap, obscuring information and clutters the chart. Most of the bubbles overlap but the opacity of the bubbles is not adjusted. This makes it difficult to read the chart. For example, for Republic of Korea, we are unable to see the center point of the circle which is supposed to show if the region is a net exporter or importer, especially since the bubble falls close to the cutoff line between net exporter and importer. Same issue for EU and Malaysia. The size of the bubbles can also be reduced and made less opaque to reduce chart clutter.</p></li>
<li><p><strong>There is poor use of colors in the chart.</strong> Other than colors being used to differentiate region, background colors use another set of colors and is not particularly useful as it does not seem to serve any additional purpose. A reference line is sufficient to demarcate the cutoff between net exporters and importers.</p></li>
<li><p><strong>Too many symbols are used in this chart, and they look similar which may also confuse the user.</strong> For example, the top net exporter and importer are each given a symbol and annotated next to the regions bubble in the chart. This <strong>adds on to the clutter of colors and shapes we already see in the chart.</strong> Furthermore, exports and imports are given yet another set of symbols which have similar colors to top net exporters and importers respectively. Only minor differences are noted between each set of symbols. There is no need to have symbols for exports and imports as they do not serve any purpose and the user is better off simply reading the axis labels.</p></li>
</ol>
<h1 id="proposed-design">3. Proposed Design</h1>
<h3 id="sketch">Sketch</h3>
<figure>
<img src="Image/proposeddesign.JPG" alt="Figure 2: Sketch of proposed design" /><figcaption aria-hidden="true">Figure 2: Sketch of proposed design</figcaption>
</figure>
<h3 id="advantages-of-proposed-design">Advantages of proposed design</h3>
<h3 id="clarity-1">3.1 Clarity</h3>
<ol type="i">
<li><p>Title added at the top for reader to understand the main idea of the visualization.</p></li>
<li><p>Title of dashboard indicates periods that the figures are derived from. Also, interactivity is added so that user is able to toggle and adjust the date that they wish to see.</p></li>
<li><p>Commentary is added right below title to provide users on the context of the chart. Commentary also refers to the same period as what is reflected in the charts (2011-2020), hence allowing users to align the commentary with the charts.</p></li>
<li><p>Included note which states the countries which are included under the EU category. This is important as EU is not a country and instead consists of several countries under this categorization.</p></li>
<li><p>Axis are clearly labeled without the need to use symbols. Top Net Exporter and Top Net Importer for each period is also indicated in the Ranking bar chart, without the use of symbols as in the original visualization.</p></li>
<li><p>Instead of using labels which may cause clutter in the chart, we have used the interactive tooltip function to provide additional details on Import, Export, Net Trade and even Ranking of the regions.</p></li>
<li><p>Legend is used to indicate that size of the bubble is indicative of total merchandise trade value with the trading partner. This makes it more intuitive as the user is able to decipher straightaway what the size of the bubble represents.</p></li>
</ol>
<h3 id="aesthetics-1">3.2 Aesthetics</h3>
<ol type="i">
<li><p>Axis contains all information on denomination of the figures- both SGD and that the figures are denominated in billions.</p></li>
<li><p>Size of bubbles has been adjusted smaller to reduce chart clutter. Labels have been revised to take up a smaller area compared to original visualization, hence reducing clutter.</p></li>
<li><p>Size of labels have been reduced and is presented in plain string form (instead of in a box like original visualization). This reduces space taken up. Labels are also presented in the same color as the bubbles for alignment. This resolves the issue in the original visualization where the labels block essential information</p></li>
<li><p>Size of bubbles has been adjusted smaller and opacity is adjusted to 50% to accommodate overlaps. Users will still be able to decipher essential information should be bubbles overlap. Black border has also been added to the bubbles to highlight the borders. These adjustments makes it easier to read the chart and reduce chart clutter.</p></li>
<li><p>Proposed visualization has removed the background colors as they not particularly useful and does not serve any additional purpose. A reference line and anntations have been added to demarcate the cutoff between net exports and net imports.</p></li>
<li><p>Proposed visualization has removed the top net exporter and importer symbols used in the original visualization with annotations and an additional bar chart showing ranking of net trade instead. User can easily identify the top net exporter and importer from the ranking bar chart. Symbols representing exports and imports are also removed as users can refer to these easily from the chart axis as well as tooltip. This reduces the clutter of symbols we see in the original visualization.</p></li>
</ol>
<h1 id="final-visualisation">4. Final Visualisation</h1>
<h3 id="snapshot-of-dashboard">4.1 Snapshot of dashboard</h3>
<figure>
<img src="Image/finalviz.jpg" alt="Figure 3: Snapshot of dashboard- full visualisation available at Tableau Public" /><figcaption aria-hidden="true">Figure 3: Snapshot of dashboard- full visualisation available at Tableau Public</figcaption>
</figure>
<h1 id="data-visualisation-steps">5. Data Visualisation Steps</h1>
<h3 id="tableau-prep">Tableau Prep</h3>
<ol type="1">
<li>After downloading the data, select data for the relevant regions from each dataset (import and export dataset) and paste into 2 new sheets (one for export and the other for import) using Microsoft Excel.</li>
</ol>
<figure>
<img src="Image/SanitiseData.JPG" alt="Figure 4: Select data for relevant regions" /><figcaption aria-hidden="true">Figure 4: Select data for relevant regions</figcaption>
</figure>
<ol start="2" type="1">
<li>Open Tableau Prep and connect the file to Tableau Prep. Drag the relevant sheets onto the main pane.</li>
</ol>
<figure>
<img src="Image/SelectSheets.jpg" alt="Figure 5: Drag sheets into main pane" /><figcaption aria-hidden="true">Figure 5: Drag sheets into main pane</figcaption>
</figure>
<ol start="3" type="1">
<li>Click on + to add the next step. Select the pivot option and drag the period columns into the pivot fields pane. Period columns refer to those columns represented by 2011 Jan through 2020 Dec. This step is to tell Tableau Prep which fields should be pivoted.</li>
</ol>
<figure>
<img src="Image/PivotSheets.jpg" alt="Figure 6: Select columns to pivot" /><figcaption aria-hidden="true">Figure 6: Select columns to pivot</figcaption>
</figure>
<ol start="4" type="1">
<li>Click on + to add the next step. Next, we will join both datasets using the join function, with the below join clauses (Figure 7). The flow should now look similar to Figure 8.</li>
</ol>
<figure>
<img src="Image/JoinClauses.JPG" style="width:75.0%" alt="Figure 7: Inner join both datasets" /><figcaption aria-hidden="true">Figure 7: Inner join both datasets</figcaption>
</figure>
<figure>
<img src="Image/DiagramJoinStep.jpg" alt="Figure 8: Current steps" /><figcaption aria-hidden="true">Figure 8: Current steps</figcaption>
</figure>
<ol start="6" type="1">
<li>Next, add a clean step. We will now make the following changes to the joined dataset.
<ul>
<li>Merge the two columns named Variables and Variables-1 into one column as they represent the same information. Drag Variables-1 into Variables.</li>
<li>Merge the two columns named Pivot1 Names and Pivot1 Names-1 into one column as they represent the same information. Drag Pivot1 Names-1 into Pivot1 Names.</li>
<li>Rename Pivot1 Values-1 and Pivot1 Values into Imports and Exports respectively.</li>
<li>Trim the Variables column to remove unnecessary spaces. Right click on the variables column title &gt; select clean &gt; select Trim Spaces.</li>
<li>Split Variables column using ( as separator. Right click on thevariables" column title &gt; select Split Values &gt; select Custom Split. Enter ( into theUse as separator" selection and retain the original selection under Split off field selection (Figure 9). Click on the split button. After splitting, remove the original column (Variables) and rename the newly split column as Region.</li>
<li>Rename Pivot1 Names-1 column into Date. The current dataset should look similar to Figure 10.</li>
</ul></li>
</ol>
<figure>
<img src="Image/SplitColumn.JPG" style="width:60.0%" alt="Figure 9: Split column selection" /><figcaption aria-hidden="true">Figure 9: Split column selection</figcaption>
</figure>
<figure>
<img src="Image/CurrentSetUp.JPG" alt="Figure 10: Dataset setup" /><figcaption aria-hidden="true">Figure 10: Dataset setup</figcaption>
</figure>
<ol start="7" type="1">
<li>Click on + to add the next step. Select the Clean option and make the following amendments to the dataset.
<ul>
<li>Update the variable datatypes:
<ul>
<li>Exports and Imports- from String to Number decimal type</li>
<li>Date- from String to Date type</li>
</ul></li>
<li>Create two new calculated fields and name them Imports Aligned and Exports Aligned. This is to align the denomination of Europe (presented in millions) with the other regions (in thousands). The formulas should be as shown in Figure 11 (Imports Aligned) and Figure 12 (Export Aligned) below.</li>
<li>Remove the original Exports and Imports columns.</li>
</ul></li>
</ol>
<figure>
<img src="Image/ImportsAligned.jpg" alt="Figure 11: Create Imports Aligned Calculated Field" /><figcaption aria-hidden="true">Figure 11: Create Imports Aligned Calculated Field</figcaption>
</figure>
<figure>
<img src="Image/ExportsAligned.jpg" alt="Figure 12: Create Export Aligned Calculated Field" /><figcaption aria-hidden="true">Figure 12: Create Export Aligned Calculated Field</figcaption>
</figure>
<ol start="8" type="1">
<li>Click on + to add the next step. Select the Output option. We will save the results in Tableau Data Extract format (.hyper). Select this format under Output Type and update the Name and Location if need be. Leave the other options as default selections. See Figure 13 for the selections made. Once finalized, click Run Flow.</li>
</ol>
<figure>
<img src="Image/OutputSelections.JPG" style="width:30.0%" alt="Figure 13: Output file selections" /><figcaption aria-hidden="true">Figure 13: Output file selections</figcaption>
</figure>
<ol start="9" type="1">
<li>Save the Tableau Flow File by selecting File&gt; Save As&gt; Input Name of file and location to save in. This is so that we can refer back to this Tableau Prep Flow File if we need to make any amendments.</li>
</ol>
<h3 id="tableau-desktop">Tableau Desktop</h3>
<p><em>Line graph</em></p>
<ol type="1">
<li>Open Tableau Data Extract file saved previously. This should open up Tableau Desktop directly. The connections and extract table should already have been added in the file. Tableau Prep outputs Hyper files, and can publish data sources to Tableau Server or Tableau Online, connected to from Tableau Desktop. The Data Source tab should look like Figure 14 below (Tableau Extract file name will differ depending on what you have named the file).</li>
</ol>
<figure>
<img src="Image/AutoConnect.JPG" style="width:50.0%" alt="Figure 14: Data Source tab" /><figcaption aria-hidden="true">Figure 14: Data Source tab</figcaption>
</figure>
<ol start="2" type="1">
<li>Create a new sheet. As we will be presenting the charts for ten regions in the form of a trellis, we have to create two calculated fields called x-axis and y-axis.
<ol type="a">
<li>Create a new calculated field and name it x-axis, with the below formula (Figure 15).</li>
<li>Create another calculated field named y-axis, with the below formula (Figure 16).</li>
</ol></li>
</ol>
<figure>
<img src="Image/Createx-axis.JPG" style="width:75.0%" alt="Figure 15: x-axis calculated field formula" /><figcaption aria-hidden="true">Figure 15: x-axis calculated field formula</figcaption>
</figure>
<figure>
<img src="Image/Createy-axis.JPG" style="width:75.0%" alt="Figure 16: y-axis calculated field formula" /><figcaption aria-hidden="true">Figure 16: y-axis calculated field formula</figcaption>
</figure>
<ol start="3" type="1">
<li>Drag [Date] to columns and change selection to month. Change data type to continuous.</li>
</ol>
<figure>
<img src="Image/DateToCol.JPG" style="width:75.0%" alt="Figure 17: Drag Date to columns" /><figcaption aria-hidden="true">Figure 17: Drag Date to columns</figcaption>
</figure>
<ol start="4" type="1">
<li>Drag [Exports Aligned] to rows, then drag [Imports Aligned] and drop it into the chart as seen in Figure 18 below. This creates a Measure Values shelf that appears in the data pane and contains all the measures of the data collected into one field.</li>
</ol>
<figure>
<img src="Image/Rows.JPG" alt="Figure 18: Drag Exports Aligned and Imports Aligned to rows" /><figcaption aria-hidden="true">Figure 18: Drag Exports Aligned and Imports Aligned to rows</figcaption>
</figure>
<ol start="5" type="1">
<li>Drag the calculated fields [x-axis] and [y-axis] to Columns and Rows respectively. Convert both fields into discrete fields.</li>
</ol>
<figure>
<img src="Image/DiscreteFields.JPG" alt="Figure 19: Convert fields to discrete" /><figcaption aria-hidden="true">Figure 19: Convert fields to discrete</figcaption>
</figure>
<ol start="6" type="1">
<li>Drag [Region] into the Marks card under detail.</li>
</ol>
<figure>
<img src="Image/RegionDetail.JPG" style="width:30.0%" alt="Figure 20: Drag Region into detail" /><figcaption aria-hidden="true">Figure 20: Drag Region into detail</figcaption>
</figure>
<ol start="7" type="1">
<li>Click on the small arrow next to [x-axis] and [y-axis] in Columns and Rows respectively. Select Edit table calculation for both [x-axis] and [y-axis] calculated fields. Select computation using Specific Dimensions- by [Region] then by [Month of Date], at the level of [Region].</li>
</ol>
<figure>
<img src="Image/EditTableCalc.JPG" style="width:30.0%" alt="Figure 21: Edit table calculation for x-axis and y-axis fields" /><figcaption aria-hidden="true">Figure 21: Edit table calculation for x-axis and y-axis fields</figcaption>
</figure>
<ol start="8" type="1">
<li>Create another calculated field named [Net Exports/Imports], with the below formula.</li>
</ol>
<figure>
<img src="Image/NetExportsImportsCalc.JPG" style="width:75.0%" alt="Figure 22: Net Exports/Imports calculated field" /><figcaption aria-hidden="true">Figure 22: Net Exports/Imports calculated field</figcaption>
</figure>
<ol start="9" type="1">
<li>Drag [Net Exports/Imports] into Rows and select dual axis by clicking on the small arrow next to the field name. Right click on the axis and select synchronize axis (Figure 23).</li>
</ol>
<figure>
<img src="Image/SyncAxis.JPG" alt="Figure 23: Synchronize axis" /><figcaption aria-hidden="true">Figure 23: Synchronize axis</figcaption>
</figure>
<ol start="10" type="1">
<li>On the Marks card for [Net Exports/Imports], click the Mark Type drop-down and select bar.</li>
</ol>
<figure>
<img src="Image/MarksCardBar.JPG" style="width:30.0%" alt="Figure 24: Change Mark type to bar" /><figcaption aria-hidden="true">Figure 24: Change Mark type to bar</figcaption>
</figure>
<ol start="11" type="1">
<li>Drag [Net Exports/Imports] to Color on the Marks card. On the Marks card, click Color &gt; Edit Colors.
<ol type="a">
<li>Update stepped color option to 2 steps as we want to show negative and positive values in different colors.</li>
<li>Click on the drop down under palette and select the red-green diverging option (Figure 25).</li>
<li>Adjust the slider under opacity to 50% (Figure 26).</li>
</ol></li>
</ol>
<figure>
<img src="Image/UpdateNetExportColors.JPG" style="width:60.0%" alt="Figure 25: Update colors" /><figcaption aria-hidden="true">Figure 25: Update colors</figcaption>
</figure>
<figure>
<img src="Image/UpdateOpacity.JPG" style="width:30.0%" alt="Figure 26: Update opacity" /><figcaption aria-hidden="true">Figure 26: Update opacity</figcaption>
</figure>
<ol start="12" type="1">
<li>Hide the below axis headers and field labels by deselecting Show Header and selecting hide field labels respectively.</li>
</ol>
<figure>
<img src="Image/HideColFieldLabels.JPG" alt="Figure 27: Hide Column Field Labels" /><figcaption aria-hidden="true">Figure 27: Hide Column Field Labels</figcaption>
</figure>
<figure>
<img src="Image/HideColFieldHeader.JPG" alt="Figure 28: Hide header" /><figcaption aria-hidden="true">Figure 28: Hide header</figcaption>
</figure>
<figure>
<img src="Image/HideDualAxisHeader.JPG" alt="Figure 29: Hide header" /><figcaption aria-hidden="true">Figure 29: Hide header</figcaption>
</figure>
<figure>
<img src="Image/HideRowHeader.JPG" style="width:30.0%" alt="Figure 30: Hide header" /><figcaption aria-hidden="true">Figure 30: Hide header</figcaption>
</figure>
<ol start="13" type="1">
<li>Next, we want to add a label to indicate which region each panel is representing. Drag [Region] into the Sum(Net Exports/Imports) Marks card, under Label. Click on Label and select Most Recent option, so labels will appear at the end of the bar chart, to avoid cluttering the graph with labels.</li>
</ol>
<figure>
<img src="Image/AddLabels.JPG" style="width:30.0%" alt="Figure 31: Add Region Label" /><figcaption aria-hidden="true">Figure 31: Add Region Label</figcaption>
</figure>
<ol start="14" type="1">
<li>Drag [Date] into the Pages pane and select Month format by clicking on the arrow next to Date.</li>
</ol>
<figure>
<img src="Image/DatetoPages.JPG" style="width:30.0%" alt="Figure 32: Drag Date to Pages pane and select Month format" /><figcaption aria-hidden="true">Figure 32: Drag Date to Pages pane and select Month format</figcaption>
</figure>
<ol start="15" type="1">
<li>Update the Measure Values Marks Card and change Mark Type to Circle instead of Automatic.</li>
</ol>
<figure>
<img src="Image/MeasureValuesToCircle.JPG" style="width:20.0%" alt="Figure 33: Update Mark Type to Circle" /><figcaption aria-hidden="true">Figure 33: Update Mark Type to Circle</figcaption>
</figure>
<ol start="16" type="1">
<li>On the animation window that appears on the right of the sheet (below Measure Names), tick on Show history option and click on the arrow next to Show history. Make the following selections:
<ol type="a">
<li>Marks to show history for: Change to All</li>
<li>Show: Both</li>
</ol></li>
</ol>
<figure>
<img src="Image/AnimationSelection.JPG" style="width:30.0%" alt="Figure 34: Make the above animation selections" /><figcaption aria-hidden="true">Figure 34: Make the above animation selections</figcaption>
</figure>
<ol start="16" type="1">
<li>Next, we will amend the y-axis. Right click on y-axis and select Edit Axis. We will edit the y-axis for the following:
<ol type="a">
<li>Under the General pane, update range. Select radio button for fixed and amend start and end to -5 and 10 respectively.</li>
<li>Update Title under Axis Titles to SGD (Billions).</li>
<li>Under the Tick Marks pane, select radio button for fixed and amend Tick Interval to 5.</li>
</ol></li>
</ol>
<figure>
<img src="Image/yGeneralPane.JPG" style="width:75.0%" alt="Figure 35: Update range and title of y-axis" /><figcaption aria-hidden="true">Figure 35: Update range and title of y-axis</figcaption>
</figure>
<figure>
<img src="Image/yTickMarksPane.JPG" style="width:75.0%" alt="Figure 36: Update tick interval of y-axis" /><figcaption aria-hidden="true">Figure 36: Update tick interval of y-axis</figcaption>
</figure>
<ol start="17" type="1">
<li>Next, we will amend the x-axis. Right click on x-axis and select Edit Axis. We will edit the x-axis for the following:
<ol type="a">
<li>Under the General pane, update range. Select radio button for fixed and amend start and end to 1/7/2010 and 30/6/2021 respectively. This is to provide a small gap at the start and end of each trellis panel. Next, uncheck Show times.</li>
<li>Update Title under Axis Titles to Month.</li>
<li>Under the Tick Marks pane, select radio button for fixed and amend Tick origin to begin at 1/1/2011, and Tick Interval to 2 years.</li>
</ol></li>
</ol>
<figure>
<img src="Image/xGeneralPane.JPG" style="width:75.0%" alt="Figure 37: Update range and title of x-axis" /><figcaption aria-hidden="true">Figure 37: Update range and title of x-axis</figcaption>
</figure>
<figure>
<img src="Image/xTickMarksPane.JPG" style="width:75.0%" alt="Figure 38: Update tick interval of x-axis" /><figcaption aria-hidden="true">Figure 38: Update tick interval of x-axis</figcaption>
</figure>
<ol start="18" type="1">
<li>Update the Legend Title by clicking on the small drop down arrow on the legend pane and selecting Edit Title.</li>
</ol>
<figure>
<img src="Image/TradeType.JPG" style="width:75.0%" alt="Figure 39: Update legend title" /><figcaption aria-hidden="true">Figure 39: Update legend title</figcaption>
</figure>
<figure>
<img src="Image/UpdateLegend.JPG" style="width:75.0%" alt="Figure 40: Update legend title" /><figcaption aria-hidden="true">Figure 40: Update legend title</figcaption>
</figure>
<figure>
<img src="Image/UpdateLegend-animation.JPG" style="width:75.0%" alt="Figure 41: Update legend title" /><figcaption aria-hidden="true">Figure 41: Update legend title</figcaption>
</figure>
<ol start="19" type="1">
<li>Create two calculated fields [Net Export position] and [Net Import position], with the formulas shown in Figure 42 and Figure 43 respectively. Drag these two fields into the Sum(Net Exports/Imports) Marks card under Tooltip.</li>
</ol>
<figure>
<img src="Image/NetExportPosition.JPG" style="width:75.0%" alt="Figure 42: Create Net Export position calculated field" /><figcaption aria-hidden="true">Figure 42: Create Net Export position calculated field</figcaption>
</figure>
<figure>
<img src="Image/NetImportPosition.JPG" style="width:75.0%" alt="Figure 43: Create Net Import position calculated field" /><figcaption aria-hidden="true">Figure 43: Create Net Import position calculated field</figcaption>
</figure>
<p>Click on Tooltip &gt; Insert the above calculated fields under Net Exports/Imports and color &lt;AGG(Net Export position)&gt; and &lt;AGG(Net Import position)&gt; green and red respectively (Figure 44). Align the other tooltip fields to Figure 44 below. Edit Tooltip in the Measure Values Marks card (Figure 45).</p>
<figure>
<img src="Image/ToolTipNetExport.JPG" style="width:75.0%" alt="Figure 44: Edit Tooltip for Sum(Net Exports/Imports) Marks card" /><figcaption aria-hidden="true">Figure 44: Edit Tooltip for Sum(Net Exports/Imports) Marks card</figcaption>
</figure>
<figure>
<img src="Image/MeasureValuesTooltip.JPG" style="width:75.0%" alt="Figure 45: Edit Tooltip for Measure Values Marks card" /><figcaption aria-hidden="true">Figure 45: Edit Tooltip for Measure Values Marks card</figcaption>
</figure>
<ol start="20" type="1">
<li><p>Align fonts used in graph to Tableau Light. Adjust size of labels and legends to font size 9.</p></li>
<li><p>Sort trellis by [Exports Aligned]. Under Measure Values Marks card, Select [Region] &gt; Sort &gt; Sort by Field &gt; Descending order &gt; Input Field Name as Exports Aligned &gt; Select Sum under Aggregation. This sorts the trellis panel by exports across the ten regions.</p></li>
</ol>
<figure>
<img src="Image/SortExports.JPG" style="width:50.0%" alt="Figure 46: Sort by Exports Aligned" /><figcaption aria-hidden="true">Figure 46: Sort by Exports Aligned</figcaption>
</figure>
<ol start="22" type="1">
<li>Right click on the main chart pane &gt; select format &gt; click on the arrow next to Fields and select the Sum (Exports Aligned). Under the Pane tab, under Default section, click on the dropdown next to Numbers and select Number (Custom), then update Decimal Places to 2. Do this for Sum (Imports Aligned), Sum (Net Exports/ Imports), AGG(Net Export position) and AGG(Net Import position) too. This is to align all tooltips to 2 decimal places.</li>
</ol>
<figure>
<img src="Image/FormatDP.JPG" style="width:30.0%" alt="Figure 47: Format variables to 2 decimal places" /><figcaption aria-hidden="true">Figure 47: Format variables to 2 decimal places</figcaption>
</figure>
<ol start="22" type="1">
<li>Add Title: Singapores Exports, Imports and Net Trade Position with Regions, from 2011-2020. Apply bolding and change font size to 12. Change font color to white. Right click on title pane &gt; select Format Title &gt; Under Title section, select blue next to Shading.</li>
</ol>
<figure>
<img src="Image/FormatTitle.JPG" style="width:30.0%" alt="Figure 48: Format Title" /><figcaption aria-hidden="true">Figure 48: Format Title</figcaption>
</figure>
<ol start="23" type="1">
<li>Under Measure Values Marks card, click on Size and drag the slider all the way to the left.</li>
</ol>
<figure>
<img src="Image/MeasureValuesSlider.JPG" style="width:30.0%" alt="Figure 49: Update size of circle" /><figcaption aria-hidden="true">Figure 49: Update size of circle</figcaption>
</figure>
<p><em>Bar Chart</em></p>
<ol start="24" type="1">
<li><p>Drag [Net Exports/ Imports] into Columns.</p></li>
<li><p>Drag [Region] into the Marks card and drop it under Label.</p></li>
</ol>
<figure>
<img src="Image/MarkscardLabel.JPG" style="width:30.0%" alt="Figure 50: Drag Region to Label" /><figcaption aria-hidden="true">Figure 50: Drag Region to Label</figcaption>
</figure>
<ol start="26" type="1">
<li>Create a new calculated field named [Ranking], with the below formula. Drag [Ranking] into Rows.</li>
</ol>
<figure>
<img src="Image/RankingCalc.JPG" style="width:75.0%" alt="Figure 51: Create Ranking Calculated field" /><figcaption aria-hidden="true">Figure 51: Create Ranking Calculated field</figcaption>
</figure>
<ol start="27" type="1">
<li>Click on the small arrow next to Ranking and select discrete. Click on Edit Table Calculation &gt; Specific Dimensions &gt; Select Region.</li>
</ol>
<figure>
<img src="Image/RankingTableCalc.JPG" style="width:30.0%" alt="Figure 52: Edit Ranking Table Calculation" /><figcaption aria-hidden="true">Figure 52: Edit Ranking Table Calculation</figcaption>
</figure>
<ol start="28" type="1">
<li>Drag [Net Exports/ Imports] into Marks card and drop it under Color.</li>
</ol>
<figure>
<img src="Image/MarkscardColor.JPG" style="width:30.0%" alt="Figure 53: Drag Net Exports/ Imports to Color" /><figcaption aria-hidden="true">Figure 53: Drag Net Exports/ Imports to Color</figcaption>
</figure>
<ol start="29" type="1">
<li>Drag [Date] into the Pages pane and select Month format by clicking on the arrow next to Date.</li>
</ol>
<figure>
<img src="Image/DatetoPagesBar.JPG" style="width:30.0%" alt="Figure 54: Drag Date to Pages pane and select Month format" /><figcaption aria-hidden="true">Figure 54: Drag Date to Pages pane and select Month format</figcaption>
</figure>
<ol start="30" type="1">
<li>Update view format to Fit Height to make better use of the space</li>
</ol>
<figure>
<img src="Image/FitHeight.JPG" style="width:75.0%" alt="Figure 55: Update view to Fit Height" /><figcaption aria-hidden="true">Figure 55: Update view to Fit Height</figcaption>
</figure>
<ol start="31" type="1">
<li>Next, we will amend the x-axis. Right click on x-axis and select Edit Axis. We will edit the x-axis for the following:
<ol type="a">
<li>Under the General pane, update range. Select radio button for fixed and amend start and end-7 and 7 respectively.</li>
<li>Update Title under Axis Titles to Net Exports/ Imports (SGD Billions).</li>
<li>Under the Tick Marks pane, select radio button for fixed and amend Tick origin to begin at 0, and Tick Interval to 1.</li>
</ol></li>
</ol>
<figure>
<img src="Image/xGeneralPaneBar.JPG" style="width:75.0%" alt="Figure 56: Update range of x-axis" /><figcaption aria-hidden="true">Figure 56: Update range of x-axis</figcaption>
</figure>
<figure>
<img src="Image/xTickMarksPaneBar.JPG" style="width:75.0%" alt="Figure 57: Update tick interval of x-axis" /><figcaption aria-hidden="true">Figure 57: Update tick interval of x-axis</figcaption>
</figure>
<ol start="32" type="1">
<li>Update the Legend Title by clicking on the small drop down arrow on the legend pane and selecting Edit Title.</li>
</ol>
<figure>
<img src="Image/TradeTypeBar.JPG" style="width:75.0%" alt="Figure 58: Update legend title" /><figcaption aria-hidden="true">Figure 58: Update legend title</figcaption>
</figure>
<figure>
<img src="Image/UpdateLegendBar-animation.JPG" style="width:75.0%" alt="Figure 59: Update legend title" /><figcaption aria-hidden="true">Figure 59: Update legend title</figcaption>
</figure>
<ol start="33" type="1">
<li><p>Align fonts used in graph to Tableau Light. Adjust size of labels and legends to font size 9.</p></li>
<li><p>Click on Tooltip and update the tooltip fields to Figure 60 below.</p></li>
</ol>
<figure>
<img src="Image/ToolTipBar.JPG" style="width:75.0%" alt="Figure 60: Edit Tooltip" /><figcaption aria-hidden="true">Figure 60: Edit Tooltip</figcaption>
</figure>
<ol start="35" type="1">
<li>Right click on the main chart pane &gt; select format &gt; click on the arrow next to Fields and select the Sum (Net Exports/ Imports). Under the Pane tab, under Default section, click on the dropdown next to Numbers and select Number (Custom), then update Decimal Places to 2. This is to align all tooltips to 2 decimal places.</li>
</ol>
<figure>
<img src="Image/FormatDPBar.JPG" style="width:30.0%" alt="Figure 61: Format variables to 2 decimal places" /><figcaption aria-hidden="true">Figure 61: Format variables to 2 decimal places</figcaption>
</figure>
<ol start="36" type="1">
<li>Add Title: Ranking of Singapores Net Trade Position with Regions. Apply bolding and change font size to 12. Change font color to white. Right click on title pane &gt; select Format Title &gt; Under Title section, select blue next to Shading.</li>
</ol>
<p><em>Bubble chart</em></p>
<ol start="37" type="1">
<li><p>Drag [Imports Aligned] and [Exports Aligned] into Columns and Rows respectively.</p></li>
<li><p>Drag [Region] into the Marks card and drop it under Color.</p></li>
<li><p>Create a new calculated field named [Total Merchandise Trade], with the below formula (Figure 62). Drag [Total Merchandise Trade] into Marks card under Size.</p></li>
</ol>
<figure>
<img src="Image/TotalMerchTrade.JPG" style="width:75.0%" alt="Figure 62: Create calculated field" /><figcaption aria-hidden="true">Figure 62: Create calculated field</figcaption>
</figure>
<ol start="40" type="1">
<li>Drag [Exports Aligned] into Columns and select Dual Axis. Synchronize the axis.</li>
</ol>
<p><img src="Image/ExportstoCol.JPG" alt="Figure 63: Drag Exports Aligned to Columns" /><br />
41. Remove Measure Names and Sum(Total Merchandise Trade) from the All Marks card. Navigate to the Sum (Exports Aligned) Marks card. Click on Size &gt; Adjust the slider all the way to the left. Click on Color &gt; Change Opacity to 0%.</p>
<figure>
<img src="Image/UpdateSize.JPG" style="width:30.0%" alt="Figure 64: Change Size" /><figcaption aria-hidden="true">Figure 64: Change Size</figcaption>
</figure>
<figure>
<img src="Image/UpdateColor.JPG" style="width:30.0%" alt="Figure 65: Change Opacity" /><figcaption aria-hidden="true">Figure 65: Change Opacity</figcaption>
</figure>
<ol start="42" type="1">
<li>Right click on the Bubble Chart &gt; Select Trend Lines &gt; Show Trend Lines &gt; Sum(Export Aligned).</li>
</ol>
<figure>
<img src="Image/AddTrendLines.JPG" style="width:75.0%" alt="Figure 66: Add 45 degree Trend Line" /><figcaption aria-hidden="true">Figure 66: Add 45 degree Trend Line</figcaption>
</figure>
<ol start="43" type="1">
<li>Drag [Date] into the Pages pane and select Month format by clicking on the arrow next to Date.</li>
</ol>
<figure>
<img src="Image/DatetoPagesBubble.JPG" style="width:30.0%" alt="Figure 67: Drag Date to Pages pane and select Month format" /><figcaption aria-hidden="true">Figure 67: Drag Date to Pages pane and select Month format</figcaption>
</figure>
<ol start="43" type="1">
<li>Next, we will amend the y-axis. Right click on y-axis and select Edit Axis. We will edit the y-axis for the following:
<ol type="a">
<li>Under the General pane, update range. Select radio button for fixed and amend start and end to 0 and 9 respectively.</li>
<li>Update Title under Axis Titles to Exports (SGD Billions).</li>
<li>Under the Tick Marks pane, select radio button for fixed and amend Tick Interval to 1.</li>
</ol></li>
</ol>
<figure>
<img src="Image/yGeneralPaneBubble.JPG" style="width:75.0%" alt="Figure 68: Update range and title of y-axis" /><figcaption aria-hidden="true">Figure 68: Update range and title of y-axis</figcaption>
</figure>
<figure>
<img src="Image/yTickMarksPaneBubble.JPG" style="width:75.0%" alt="Figure 69: Update tick interval of y-axis" /><figcaption aria-hidden="true">Figure 69: Update tick interval of y-axis</figcaption>
</figure>
<ol start="44" type="1">
<li>Next, we will amend the x-axis. Right click on x-axis and select Edit Axis. We will edit the x-axis for the following:
<ol type="a">
<li>Under the General pane, update range. Select radio button for fixed and amend start and end to 0 and 9 respectively.</li>
<li>Update Title under Axis Titles to Imports (SGD Billions).</li>
<li>Under the Tick Marks pane, select radio button for fixed and amend Tick origin to begin at 0, and Tick Interval to 1.</li>
</ol></li>
</ol>
<figure>
<img src="Image/xGeneralPaneBubble.JPG" style="width:75.0%" alt="Figure 70: Update range and title of x-axis" /><figcaption aria-hidden="true">Figure 70: Update range and title of x-axis</figcaption>
</figure>
<figure>
<img src="Image/xTickMarksPaneBubble.JPG" style="width:75.0%" alt="Figure 71: Update tick interval of x-axis" /><figcaption aria-hidden="true">Figure 71: Update tick interval of x-axis</figcaption>
</figure>
<ol start="45" type="1">
<li>Right click on the Trend Line &gt; Select Format &gt; Under the Sheet Tab, under Trend Lines, select the broken line and a dark gray color for the Trend Lines. We will use broken lines and color to differentiate Trend Lines.</li>
</ol>
<figure>
<img src="Image/FormatTrendLines.JPG" style="width:30.0%" alt="Figure 72: Format Trend Lines" /><figcaption aria-hidden="true">Figure 72: Format Trend Lines</figcaption>
</figure>
<ol start="46" type="1">
<li>Drag [Total Merchandise Trade] field into the Sum(Imports Aligned) Marks card and drop it under Size. Click on Size and adjust the slider as seen in Figure 73. Update the Mark Type to Circle and edit the Opacity to 50%. Click on the dropdown next to Border and select black color, as seen in Figure 74.</li>
</ol>
<figure>
<img src="Image/TotalMerchTradeSize.JPG" style="width:30.0%" alt="Figure 73: Drop Total Merchandise Trade into Size in Marks card" /><figcaption aria-hidden="true">Figure 73: Drop Total Merchandise Trade into Size in Marks card</figcaption>
</figure>
<figure>
<img src="Image/ChangeToBubble.JPG" style="width:30.0%" alt="Figure 74: Update Opacity and Border Color" /><figcaption aria-hidden="true">Figure 74: Update Opacity and Border Color</figcaption>
</figure>
<ol start="47" type="1">
<li>Right click on the Export Aligned header at the top of the Bubble Chart and deselect Show Header.</li>
</ol>
<figure>
<img src="Image/HideHeader.JPG" style="width:80.0%" alt="Figure 75: Hide Export Aligned Header" /><figcaption aria-hidden="true">Figure 75: Hide Export Aligned Header</figcaption>
</figure>
<ol start="48" type="1">
<li>Update the Legend Title by clicking on the small dropdown arrow on the legend pane and selecting Edit Title.</li>
</ol>
<figure>
<img src="Image/UpdateLegendDate.JPG" style="width:75.0%" alt="Figure 76: Update legend title" /><figcaption aria-hidden="true">Figure 76: Update legend title</figcaption>
</figure>
<figure>
<img src="Image/UpdateLegendMerchTrade.JPG" style="width:75.0%" alt="Figure 77: Update legend title" /><figcaption aria-hidden="true">Figure 77: Update legend title</figcaption>
</figure>
<ol start="49" type="1">
<li>Right click on [Total Merchandise Trade] legend &gt; select Edit Sizes &gt; Select box next to Start Value in Legend and End Value in Legend and input 2 and 14 respectively &gt; click ok.</li>
</ol>
<figure>
<img src="Image/EditSize.JPG" style="width:75.0%" alt="Figure 78: Edit Size" /><figcaption aria-hidden="true">Figure 78: Edit Size</figcaption>
</figure>
<ol start="50" type="1">
<li>On the animation window that appears on the right of the sheet (below Region), click on Show history option and click on the arrow next to Show history. Make the following selections:
<ol type="a">
<li>Marks to show history for: Change to All</li>
<li>Show: Trails</li>
<li>Under Format section, select the thinnest line</li>
</ol></li>
</ol>
<figure>
<img src="Image/AnimationSelectionBubble.JPG" style="width:50.0%" alt="Figure 79: Make the above animation selections" /><figcaption aria-hidden="true">Figure 79: Make the above animation selections</figcaption>
</figure>
<ol start="51" type="1">
<li>Next, we want to label each bubble with the region they are representing. We also want to align the color of the label to the bubble color. In order to do so, create a calculated field for each region with the formula as per Figure 80. Drag the calculated fields and drop them under Label in the Sum(Imports Aligned) Marks card.</li>
</ol>
<figure>
<img src="Image/CountryCalcField.JPG" style="width:75.0%" alt="Figure 80: Create 10 new calculated fields with the above formula, updating for the relevant region" /><figcaption aria-hidden="true">Figure 80: Create 10 new calculated fields with the above formula, updating for the relevant region</figcaption>
</figure>
<figure>
<img src="Image/CountryToToolTip.JPG" style="width:30.0%" alt="Figure 81: Drag Label Calculated fields to Label" /><figcaption aria-hidden="true">Figure 81: Drag Label Calculated fields to Label</figcaption>
</figure>
<ol start="52" type="1">
<li>In the Sum(Imports Aligned) Marks card, click on Label. Click on the  next to Text to edit labels. Align the colors in the Edit Label pane to the colors representing each region in the bubble chart. To do that, highlight the relevant region label and click on the arrow next to the color block at the top of the pane. Select More colors &gt; Pick Screen Color. This will create a cursor which you can direct to the color representing each region in the Region legend. Left click on the color in the Legend and this color will be applied to the selected region label. Apply bolding to the labels. After doing so, the Edit Label pane should look like Figure 80 below. Click ok, then select Allow labels to overlap other marks option under the Options section.</li>
</ol>
<figure>
<img src="Image/EditLabelPane.JPG" alt="Figure 82: Edit Label pane" /><figcaption aria-hidden="true">Figure 82: Edit Label pane</figcaption>
</figure>
<ol start="53" type="1">
<li>Click on Tooltip under Sum(Imports Aligned) Marks card and edit Tooltips to align with Figure 81 below. Remove all variables from Tooltip under the Sum(Export Aligned) Marks card (Figure 84).</li>
</ol>
<figure>
<img src="Image/BubbleTooltip.JPG" style="width:75.0%" alt="Figure 83: Update Tooltip- Sum(Imports Aligned) Marks card" /><figcaption aria-hidden="true">Figure 83: Update Tooltip- Sum(Imports Aligned) Marks card</figcaption>
</figure>
<figure>
<img src="Image/ExportsAlignedMarkscard.JPG" style="width:75.0%" alt="Figure 84: Update Tooltip- Sum(Export Aligned) Marks card" /><figcaption aria-hidden="true">Figure 84: Update Tooltip- Sum(Export Aligned) Marks card</figcaption>
</figure>
<ol start="54" type="1">
<li>Right click on the main chart pane &gt; select format &gt; click on the arrow next to Fields and select the [Sum (Export Aligned)]. Under the Pane tab, click on the dropdown next to Numbers under Default section and select Number (Custom), then update Decimal Places to 2. This is to align all tooltips to 2 decimal places. Do the same for [Sum(Imports Aligned)] and [Total Merchandise Trade].</li>
</ol>
<figure>
<img src="Image/FormatDPBubble.JPG" style="width:75.0%" alt="Figure 85: Format variables to 2 decimal places" /><figcaption aria-hidden="true">Figure 85: Format variables to 2 decimal places</figcaption>
</figure>
<ol start="55" type="1">
<li><p>Align fonts used in graph to Tableau Light. Adjust size of labels and legends to font size 9.</p></li>
<li><p>Add Title and Commentary: Singapores Exports, Imports and Net Trade Position with Regions. Apply bolding and change font size to 12. Change font color to white. Right click on title pane &gt; select Format Title &gt; Under Title section, select blue next to Shading.</p></li>
</ol>
<p><em>Dashboard</em></p>
<ol start="57" type="1">
<li>Change dashboard size to Automatic.</li>
</ol>
<figure>
<img src="Image/DashboardSize.JPG" style="width:50.0%" alt="Figure 86: Change Dashboard Size" /><figcaption aria-hidden="true">Figure 86: Change Dashboard Size</figcaption>
</figure>
<ol start="58" type="1">
<li>Arrange layout according to sketch. Drag and drop sheets into frame. Remove all legends except for [Total Trade Merchandise (SGD Billions)]. Click on the legend &gt; click on the arrow next to the box &gt; select floating and drag the box to the bubble chart as shown in Figure 85.</li>
</ol>
<figure>
<img src="Image/Sketch.JPG" alt="Figure 87: Arranged layout" /><figcaption aria-hidden="true">Figure 87: Arranged layout</figcaption>
</figure>
<ol start="59" type="1">
<li><p>Add source- Using Objects &gt; Text &gt; drag to bottom of dashboard and add:<br/> Source: Department of Statistics, Singapore (DOS) (<a href="https://www.singstat.gov.sg/" class="uri">https://www.singstat.gov.sg/</a>)<br/> Change font size to 9, font to Tableau Light and color to black.</p></li>
<li><p>Add author- Using Objects &gt; Text &gt; drag to bottom right of dashboard and add:<br/> Dataviz Makeover 2| Stella Loh<br/> Change font size to 9, font to Tableau Light and color to black.</p></li>
<li><p>Add note- Using Objects &gt; Text &gt; drag to anywhere in dashboard and add: Note: The European Union comprises Austria, Belgium, Bulgaria, Croatia, Cyprus, Czech Rep, Denmark, Estonia, Finland, France, Germany, Greece, Hungary, Ireland, Italy, Latvia, Lithuania, Luxembourg, Malta, Netherlands, Poland, Portugal, Romania, Slovak Rep, Slovenia, Spain and Sweden.<br/></p></li>
</ol>
<p>Change font size to 5, font to Tableau Light and color to black. Click on the text box &gt; click on the arrow next to the box &gt; select floating and drag the text box to the top left of bubble chart.</p>
<ol start="62" type="1">
<li>Add dashboard title- Using Objects &gt; Text &gt; drag to top of dashboard.<br/> Add title: Singapores Trade with Regions, from 2011-2020.<br/> Adjust the title to be aligned in the middle, apply bolding, change font size to 15, and change font color to white. Click on title and select the Layout tab on the left pane &gt; Background &gt; select a blue background for the dashboard title so that the title stands out.</li>
</ol>
<figure>
<img src="Image/DashboardTitle.JPG" style="width:30.0%" alt="Figure 88: Format dashboard title background" /><figcaption aria-hidden="true">Figure 88: Format dashboard title background</figcaption>
</figure>
<ol start="63" type="1">
<li>We will now add some highlight functions to the dashboard. Select Dashboard &gt; Actions &gt; Add Action. Update the Edit Highlight Action pane to the below. We want to be able to run the highlighting action on Hover and from any chart in the dashboard. Highlighted fields in the other charts will be based on Region.</li>
</ol>
<figure>
<img src="Image/EditHighlight.JPG" style="width:50.0%" alt="Figure 89: Update Edit Highlight Action pane" /><figcaption aria-hidden="true">Figure 89: Update Edit Highlight Action pane</figcaption>
</figure>
<ol start="64" type="1">
<li>Add annotations. Right click on the bubble plot in the dashboard &gt; select Annotate &gt; Area. Add annotations indicating the areas for Net Exports and Net Imports. Apply bolding, change font to Tableau Light, font size to 9 and color to green/red for net exports and net imports respectively. For consistency, we will select the same shade of green as that used in the Red-Green diverging color scheme used in the line chart.<br/></li>
</ol>
<p>Do the same for the ranking bar chart. Updated dashboard with annotations added should look like Figure 90.</p>
<figure>
<img src="Image/finalviz.jpg" alt="Figure 90: Add annotations" /><figcaption aria-hidden="true">Figure 90: Add annotations</figcaption>
</figure>
<h1 id="observations">6. Observations</h1>
<p>One way to study the Singapores trade patterns with various trading partners is to track how net trade changes across time. The above dashboard does this by plotting the exports, imports and net trade of Singapores trade with various regions, for the period 2011-2020.</p>
<p>This dashboard consists of three charts:</p>
<ol type="i">
<li>Bubbleplot showing each regions export and import</li>
<li>Line graph showing exports, imports and net trade over time.</li>
<li>Bar chart showing the ranking of each region by net trade with Singapore.</li>
</ol>
<p>Users are also able to explore the trends for a specific region by hovering over the region in any of the charts and the corresponding region will be highlighted across all three charts.</p>
<ol type="1">
<li>Imports from Taiwan reached a new high in Dec20 (S$4.9 billion) and has been on a steady uptrend in 2020. Although exports to Taiwan has also reached a new high in Dec20 (S$2.73 billion), the rate of increase in imports exceeds that of exports in 2020, resulting in a growing trade deficit with Taiwan. This can be observed from the steeper slope of the import line compared to export line in year 2020.</li>
</ol>
<p>A possible reason for the increase in imports could be due to the Covid-19 pandemic. Taiwan was able to successfully control the pandemic as compared to some of Singapores other trade partners. Hence some of the imports may have been diverted to Taiwan.</p>
<figure>
<img src="Image/Obs1.JPG" style="width:75.0%" alt="Figure 70: Taiwan line chart" /><figcaption aria-hidden="true">Figure 70: Taiwan line chart</figcaption>
</figure>
<ol start="2" type="1">
<li>Both exports and imports from Malaysia saw a steep decline in Apr20 and rebounded strongly in Jun20. This may be due to the circuit breaker and MCO period in Singapore and Malaysia respectively where citizens were encouraged to stay home and many shops were closed for business, resulting in lower imports by both Singapore and Malaysia. The circuit breaker period in Singapore began in Apr20 and measures were <a href="https://www.channelnewsasia.com/news/singapore/covid-19-circuit-breaker-chronicles-charting-evolution-12779048">relaxed in Jun20</a>, which coincides with the strong rebound in imports.</li>
</ol>
<p>Singapore has consistently been in a net trade deficit with Malaysia since early 2020. Singapore <a href="https://www.sfa.gov.sg/food-farming/singapore-food-supply/the-food-we-eat#:~:text=With%20little%20farming%20land%2C%20Singapore,13%25%20of%20all%20the%20vegetables">imports over 90% of the food consumed</a> in the country and hence the lack of transportation options, coupled with the severity of the pandemic in some of the trading partners, may have resulted in increased imports from Malaysia due its geographical proximity.</p>
<figure>
<img src="Image/Obs2.JPG" alt="Figure 71: Malaysia line chart" /><figcaption aria-hidden="true">Figure 71: Malaysia line chart</figcaption>
</figure>
<ol start="3" type="1">
<li>Singapores net trade deficit with United States has been showing a decreasing trend since Aug19, and eventually becoming a net trade surplus for most of 2020. This is due to declining imports, with the largest decline (S$1.45 billion) between Mar20 and May20. We also see an increasing trend for exports to United States with a steady increase since Feb17 and peaking in Jul20.</li>
</ol>
<figure>
<img src="Image/Obs3.JPG" alt="Figure 72: United States line chart" /><figcaption aria-hidden="true">Figure 72: United States line chart</figcaption>
</figure>
<ol start="4" type="1">
<li>We have also observed a declining trade deficit with Europe, brought about by a sharp dip in imports between May19 to Jun19, before recovering slightly and another sharp dip between Jan20 to May20. This may be due to heightened pandemic measures leading to the circuit breaker period in Singapore. As most shops were closed during this period and Singaporeans were encouraged to stay in, this may have reduced demand for machinery and vehicles, which are the main imports from Europe [link] (<a href="https://ec.europa.eu/eurostat/statistics-explained/index.php?title=Singapore-EU_-_international_trade_in_goods_statistics#EU-Singapore_trade_by_type_of_goods" class="uri">https://ec.europa.eu/eurostat/statistics-explained/index.php?title=Singapore-EU_-_international_trade_in_goods_statistics#EU-Singapore_trade_by_type_of_goods</a>).</li>
</ol>
<p>We also noticed that net trade deficit with Europe forms a double hump pattern- increasing steadily from 2011 and peaking in Oct13, then steadily declining to a low in May16. This is followed by a steady increase and peaking once more in Jul18 and downtrend till Sep20.</p>
<figure>
<img src="Image/Obs4.JPG" alt="Figure 73: Europe line chart" /><figcaption aria-hidden="true">Figure 73: Europe line chart</figcaption>
</figure>
<ol start="5" type="1">
<li>The bubble chart shows the trending for each regions exports and imports over the past ten years. We are able to see the patterns that each region makes over the period, namely:
<ol type="i">
<li>Singapores net trade balance with Hong Kong consistently ranks top out of the ten regions included in this analysis.</li>
<li>Thailand saw a sharp increase in imports in Apr20, and increase in exports in Mar20, both which lasted for a month before returning to normal.</li>
<li>Trade with Korea and United States has turned from net imports to net exports.</li>
<li>China has been moving towards the upper right corner of the bubble chart across the ten years, indicating growing exports and imports.</li>
<li>Value of imports from Europe have consistently ranked the top. However, imports from China is on a growing trend (moving right on bubble chart) and has potential to overtake Europe.</li>
<li>Trade with Malaysia has moved from net exports to net imports.</li>
<li>Imports from Taiwan are increasing at a faster rate compered to exports.</li>
<li>Singapore is mostly in trade deficit with Japan, with the exception of a few months.</li>
<li>Thailand saw a sharp increase in imports in Apr20, and increase in exports in Mar20, both which lasted for a month before returning to usual trends.</li>
</ol></li>
</ol>
<figure>
<img src="Image/Obs5.JPG" alt="Figure 74: Insights from bubble chart" /><figcaption aria-hidden="true">Figure 74: Insights from bubble chart</figcaption>
</figure>
<ol start="6" type="1">
<li>Singapores net trade balance with Indonesia is on a declining trend across the 10 years, mainly brought about by declining exports.This is consistent with what we observed in the bubble chart where exports are declining at a faster rate compared to imports. Singapores <a href="https://www.enterprisesg.gov.sg/-/media/esg/files/media-centre/media-releases/2020/feb-2020/mr-002a20-singapore-and-indonesia/annex-b---latest-bilateral-trade-information-between-indonesia-and-singapore.pdf?la=en">main exports</a> to Indonesia are refined petroleum, petrochemicals and telecommunications equipment.</li>
</ol>
<figure>
<img src="Image/Obs6.JPG" alt="Figure 75: Indonesia line chart" /><figcaption aria-hidden="true">Figure 75: Indonesia line chart</figcaption>
</figure>
<ol start="7" type="1">
<li>Singapores trade deficit with Republic of Korea has turned to a consistent trade surplus since 2018. This is mainly due to declining imports while exports have remained relatively consistent.</li>
</ol>
<figure>
<img src="Image/Obs7.JPG" alt="Figure 76: Korea line chart" /><figcaption aria-hidden="true">Figure 76: Korea line chart</figcaption>
</figure>
<ol start="8" type="1">
<li>Sharp increase in exports to Thailand from S$1.7B to S$2.5B between Feb20 to Mar20, followed by a steep decline till May20 (S$2.5B to S$1.2B). We see a similar spike in imports from Thailand from S$1.1B to S$2.0B between Mar20 and Apr20, followed by a sharp decline to S$0.8B in Jun20. Main exports and imports from Thailand is refined petroleum. <a href="https://www.argusmedia.com/en/news/2129192-thailand-cuts-crude-imports-in-may">Weak refining margins</a> may have prompted Thai refiners to lower crude import volumes in May20, coinciding with the drop in exports observed.</li>
</ol>
<figure>
<img src="Image/Obs8.JPG" alt="Figure 77: Thailand line chart" /><figcaption aria-hidden="true">Figure 77: Thailand line chart</figcaption>
</figure>
<ol start="9" type="1">
<li>Sharp decline in exports and imports to/from Mainland China observed between Dec19 to Feb20. Exports decreased from S$7.0B to S$3.9B while imports reduced from S$6.0B to S$4.0B. This decline coincides with the <a href="https://apnews.com/article/pandemics-wuhan-china-coronavirus-pandemic-e6147ec0ff88affb99c811149424239d">lockdown</a> in certain Chinese cities due to the severity of the pandemic.</li>
</ol>
<p>Imports quickly rebounded to S$6.0B in Mar20 while exports only showed a rebound and new high following Jul20. Exports to Mainland China increased sharply between Jul20 to Aug20 and has been maintaining at a higher range since then. This may be due to China being one of the first countries to recover economically from the pandemic. Chinas economy picked up speed in the fourth quarter, with <a href="https://www.straitstimes.com/business/economy/china-becomes-only-major-economy-to-avoid-recession-in-2020-growth-accelerates-in">growth beating expectations</a>. This may explain the increase in exports to China during the second half 2020.</p>
<figure>
<img src="Image/Obs9.JPG" alt="Figure 78: China line chart" /><figcaption aria-hidden="true">Figure 78: China line chart</figcaption>
</figure>
<div class="sourceCode" id="cb1"><pre class="sourceCode r distill-force-highlighting-css"><code class="sourceCode r"></code></pre></div>
<!--radix_placeholder_article_footer-->
<!--/radix_placeholder_article_footer-->
</div>

<div class="d-appendix">
</div>


<!--radix_placeholder_site_after_body-->
<!--/radix_placeholder_site_after_body-->
<!--radix_placeholder_appendices-->
<div class="appendix-bottom"></div>
<!--/radix_placeholder_appendices-->
<!--radix_placeholder_navigation_after_body-->
<!--/radix_placeholder_navigation_after_body-->

</body>

</html>
